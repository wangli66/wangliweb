(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d3aa00f"],{"0367":function(t,e,i){"use strict";i("38aa")},"38aa":function(t,e,i){},"53b4":function(t,e,i){"use strict";i("c2df")},c2df:function(t,e,i){},f7ee:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[t._v("该组件主要用于拖拽和缩放")]),i("p",[t._v("支持拖拽，缩放，最小宽高，最大宽高等功能，具体使用方法见下方的详细文档")]),t._v(" 示例："),i("el-button",{on:{click:t.handleClick}},[t._v(t._s(t.show?"隐藏":"显示"))]),i("drag-and-resize",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{w:400,h:300,y:150},scopedSlots:t._u([{key:"header",fn:function(){return[i("div",{staticClass:"drag"},[t._v(" 可自定义标题行 ")])]},proxy:!0}])},[i("div",{staticClass:"pad-20"},[t._v(" 自定义显示内容 ")])]),i("md",{staticClass:"markdown-body"})],1)},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"drag-and-resize-container",class:[t.containerClassName],style:t.style},[t._t("header",[i("div",{staticClass:"drag"},[t._v("标题")])]),t._t("default"),t._l(t.handles,(function(e,n){return i("div",{key:"dv-handle-"+n,class:[t.handleClass,t.handleClass+"-"+e],on:{mousedown:function(i){return i.stopPropagation(),i.preventDefault(),t.handleDown(e,i)}}})}))],2)},h=[];i("4de4"),i("caad"),i("a9e3"),i("d3b7"),i("6062"),i("2532"),i("3ca3"),i("ddb0");function d(t,e,i){t&&(t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener?t.addEventListener(e,i,!0):t["on"+e]=i)}function r(t,e,i){t&&(t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener?t.removeEventListener(e,i,!0):t["on"+e]=null)}function o(t,e,i){return null!==e&&t<e?e:null!==i&&i<t?i:t}var l={props:{w:{type:Number,default:200,validator:function(t){return t>=0}},minW:{type:Number,default:0,validator:function(t){return t>=0}},maxW:{type:Number,default:0,validator:function(t){return t>=0}},h:{type:Number,default:200,validator:function(t){return t>=0}},minH:{type:Number,default:0,validator:function(t){return t>=0}},maxH:{type:Number,default:0,validator:function(t){return t>=0}},x:{type:Number,default:-1},y:{type:Number,default:50},z:{type:Number,default:99},initDragable:{type:Boolean,default:!0},initResizable:{type:Boolean,default:!0},containerClassName:{type:String,default:"self-drag-and-resize-style"},handleDragClass:{type:String,default:".drag"},handleClass:{type:String,default:"dr-wl-stick"},handles:{type:Array,default:function(){return["t","r","b","l","tl","tr","bl","br"]},validator:function(t){var e=new Set(["t","r","b","l","tl","tr","bl","br"]);return new Set(t.filter((function(t){return e.has(t)}))).size===t.length}}},data:function(){return{name:"drag-and-resize",dragable:!0,resizable:!0,active:!1,operateAble:!0,el:null,handleDragDom:null,top:200,left:200,width:100,height:100,minWidth:100,minHeight:100,maxWidth:null,maxHeight:null,zIndex:1,enabled:this.active,resizing:!1,dragging:!1,mouseClickPo:{},handle:"",bounds:{minL:0,maxL:0,minT:0,maxT:0}}},computed:{style:function(){return{top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zIndex}}},methods:{changeContainerInit:function(t){void 0!=t.w&&(this.width=t.w),void 0!=t.h&&(this.height=t.h),void 0!=t.x&&(this.left=t.x),void 0!=t.y&&(this.top=t.y),void 0!=t.z&&(this.zIndex=t.z),void 0!=t.minW&&(this.minWidth=t.minW),void 0!=t.minH&&(this.minHeight=t.minH),void 0!=t.maxW&&(this.minWidth=t.minW),void 0!=t.maxH&&(this.maxHeight=t.maxH)},changeOperateAble:function(t){void 0!=t.initDragable&&(this.dragable=t.dragable),void 0!=t.initResizable&&(this.resizable=t.resizable)},setMouseCLickPo:function(t){var e=this.el.getBoundingClientRect(),i=t.pageX,n=t.pageY;this.mouseClickPo={mouseX:i,mouseY:n,x:e.left,y:e.top,w:e.width,h:e.height,lastMouseX:i,lastMouseY:n,pageX:null,pageY:null}},handleDown:function(t,e){e.stopPropagation&&e.stopPropagation(),this.handle=t,this.resizing=!0,this.setMouseCLickPo(e),d(document.documentElement,"mousemove",this.move),d(document.documentElement,"mouseup",this.up),this.$emit("resizestart",this.left,this.top,this.width,this.height)},mousedown:function(t){if(t.stopPropagation&&t.stopPropagation(),!this.operateAble)return!1;this.dragging=!0,this.setMouseCLickPo(t),d(document.documentElement,"mousemove",this.move),d(document.documentElement,"mouseup",this.up),this.$emit("dragstart",this.left,this.top)},move:function(t){t.stopPropagation&&t.stopPropagation(),this.dragging&&this.dragable?this.dragMove(t):this.resizing&&this.resizable&&this.resizeMove(t)},resizeMove:function(t){var e=this.mouseClickPo,i=t.pageX,n=t.pageY,s=i-e.mouseX,a=n-e.mouseY;e.lastMouseX=e.pageX,e.lastMouseY=e.pageY,this.mouseClickPo=Object.assign({},e,{pageX:i,pageY:n,distX:s,distY:a});var h=this.handle,d=this.bounds,r=d.minL,l=d.minT,u=this.limitRect(this.mouseClickPo),m=u.xable,v=u.yable;h.includes("t")&&v?(this.maxHeight>this.height||a>0)&&(this.top=o(n,l,e.y+e.h-this.minHeight),this.height=o(e.h-a,this.minHeight,this.maxHeight)):h.includes("b")&&v&&(this.height=o(e.h+a,this.minHeight,this.maxHeight)),h.includes("l")&&m?(this.maxWidth>this.width||s>0)&&(this.left=o(i,r,e.x+e.w-this.minWidth),this.width=o(e.w-s,this.minWidth,this.maxWidth)):h.includes("r")&&m&&(this.width=o(e.w+s,this.minWidth,this.maxWidth)),this.$emit("resizing",this.left,this.top,this.width,this.height)},dragMove:function(t){var e=this.mouseClickPo,i=t.pageX,n=t.pageY,s=i-e.mouseX,a=n-e.mouseY;e.lastMouseX=e.pageX,e.lastMouseY=e.pageY,this.mouseClickPo=Object.assign({},e,{pageX:i,pageY:n,distX:s,distY:a});var h=this.limitRect(this.mouseClickPo);h.xable&&(this.left=e.x+s),h.yable&&(this.top=e.y+a),this.$emit("dragging",this.left,this.top)},limitRect:function(t){var e=t.pageX,i=t.pageY,n=t.lastMouseY,s=!0,a=!0,h=this.bounds,d=h.minL,r=h.maxL,o=h.minT,l=h.maxT;(e<=d||e>=r)&&(s=!1);var u=this.handleDragDom.getBoundingClientRect(),m=u.top<=o&&(n>=i||i<=o+u.height);return m?(a=!1,i>o+10&&n<i&&(a=!0)):(l=this.resizing?l+this.handleDragDom.offsetHeight:l,a=!(i>=l)),{xable:s,yable:a}},up:function(){var t=this;this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),this.$nextTick((function(){r(document.documentElement,"mousemove",t.move),r(document.documentElement,"mouseup",t.up)}))},getParentSize:function(){if(this.parent){var t=window.getComputedStyle(this.$el.parentNode,null);this.parentWidth=parseInt(t.getPropertyValue("width"),10),this.parentHeight=parseInt(t.getPropertyValue("height"),10)}},initParams:function(){var t=document.body.clientWidth,e=document.documentElement.clientHeight;this.bounds.maxL=t,this.bounds.maxT=e-this.handleDragDom.offsetHeight,this.parent?(this.getParentSize(),this.maxWidth=this.parentWidth,this.maxHeight=this.parentHeight):(this.maxWidth=t,this.maxHeight=e)}},created:function(){this.top=this.y,this.left=this.x,this.zIndex=this.z,this.width=this.w,this.height=this.h,this.minWidth=0==this.minW?this.w:this.minW,this.minHeight=0==this.minH?this.h:this.minH,this.maxWidth=this.maxW,this.maxHeight=this.maxH,this.dragable=this.initDragable,this.resizable=this.initResizable},mounted:function(){if(this.el=this.$el,this.handleDragClass?this.handleDragDom=this.el.querySelector(this.handleDragClass):this.handleDragDom=this.el,this.initParams(),-1==this.left){var t=document.body.clientWidth,e=this.el.getBoundingClientRect().width;this.left=(t-e)/2}window.addEventListener("resize",this.initParams),d(this.handleDragDom,"mousedown",this.mousedown)},beforeDestory:function(){r(this.handleDragDom,"mousedown",this.mousedown),r(document.documentElement,"mousemove",this.move),r(document.documentElement,"mouseup",this.up),window.removeEventListener("resize",this.initParams)}},u=l,m=u,v=(i("53b4"),i("2877")),c=Object(v["a"])(m,a,h,!1,null,null,null),g=c.exports,p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("h1",[t._v("调用代码")]),i("pre",{pre:!0},[i("code",{pre:!0,attrs:{"v-pre":""}},[t._v('//调用的模板；\n//w h为容器初始宽高，\n//拖拽的部分须写在.drag下面，或者自定义handleDragClass的值\n<drag-and-resize :w="400" :h="400">\n    <template v-slot:header>\n        <div class="drag">\n        \t可自定义标题行\n        </div>\n    </template>\n    <div class="pad-20">\n    \t自定义显示内容\n    </div>\n</drag-and-resize>\n')])]),i("h1",[t._v("组件各项参数说明")]),i("h2",[t._v("属性说明")]),i("table",[i("thead",[i("tr",[i("th",[t._v("属性名称")]),i("th",[t._v("类型")]),i("th",[t._v("描述")])])]),i("tbody",[i("tr",[i("td",[t._v("w")]),i("td",[t._v("[必传] Number")]),i("td",[t._v("容器的宽度，默认200")])]),i("tr",[i("td",[t._v("h")]),i("td",[t._v("[必传] Number")]),i("td",[t._v("容器的高度，默认200")])]),i("tr",[i("td",[t._v("x")]),i("td",[t._v("Number")]),i("td",[t._v("容器距离可视区左侧的距离，默认居中显示")])]),i("tr",[i("td",[t._v("y")]),i("td",[t._v("Number")]),i("td",[t._v("容器距离可视区顶部的距离，默认50")])]),i("tr",[i("td",[t._v("z")]),i("td",[t._v("Number")]),i("td",[t._v("容器层级数，默认值99")])]),i("tr",[i("td",[t._v("minW")]),i("td",[t._v("Number")]),i("td",[t._v("容器最小宽度，默认为容器的初始宽度")])]),i("tr",[i("td",[t._v("minH")]),i("td",[t._v("Number")]),i("td",[t._v("容器最小高度，默认为容器的初始高度")])]),i("tr",[i("td",[t._v("maxW")]),i("td",[t._v("Number")]),i("td",[t._v("容器最大宽度，默认为可视区域的宽")])]),i("tr",[i("td",[t._v("maxH")]),i("td",[t._v("Number")]),i("td",[t._v("容器最大高度，默认为可视区域的高")])]),i("tr",[i("td",[t._v("initDragable")]),i("td",[t._v("Boolean")]),i("td",[t._v("是否可拖拽，默认true")])]),i("tr",[i("td",[t._v("initResizable")]),i("td",[t._v("Boolean")]),i("td",[t._v("是否可缩放，默认true")])]),i("tr",[i("td",[t._v("containerClassName")]),i("td",[t._v("String")]),i("td",[t._v("容器自定义的class类")])]),i("tr",[i("td",[t._v("handleDragClass")]),i("td",[t._v("String")]),i("td",[t._v("拖拽目标元素的class,默认为“.drag”,"),i("br"),t._v("可设置再头部或者整个容器，默认设置头部")])]),i("tr",[i("td",[t._v("handleClass")]),i("td",[t._v("String")]),i("td",[t._v("缩放的通用样式，可修改")])]),i("tr",[i("td",[t._v("handles")]),i("td",[t._v("Array")]),i("td",[t._v("控制缩放时鼠标接触的元素")])])])]),i("h2",[t._v("方法说明")]),i("table",[i("thead",[i("tr",[i("th",[t._v("方法")]),i("th",[t._v("参数")]),i("th",[t._v("描述")])])]),i("tbody",[i("tr",[i("td",[t._v("changeContainerInit")]),i("td",[t._v("Object")]),i("td",[t._v("修改容器的尺寸、位置、最大、最小尺寸")])]),i("tr",[i("td"),i("td",[t._v("{w,h,x,y,z,minW,minH,maxW,maxH}")]),i("td",[t._v("对象内的属性和组件属性说明中相应值类型保持一致即可"),i("br"),t._v("object内的属性可单独设置，比如只改尺寸或只改位置，根据项目需要，没必要全部都改")])]),i("tr",[i("td",[t._v("changeOperateAble")]),i("td",[t._v("Object")]),i("td",[t._v("修改容器是否可拖拽，是否可缩放，")])]),i("tr",[i("td"),i("td",[t._v("{initResizable,initDragable}")]),i("td",[t._v("initResizable是否可缩放"),i("br"),t._v("initDragable是否可拖拽")])])])]),i("h2",[t._v("事件说明")]),i("table",[i("thead",[i("tr",[i("th",[t._v("事件名称")]),i("th",[t._v("参数")]),i("th",[t._v("描述")])])]),i("tbody",[i("tr",[i("td",[t._v("dragstart")]),i("td",[t._v("（x,y）")]),i("td",[t._v("拖拽开始时")])]),i("tr",[i("td",[t._v("dragging")]),i("td",[t._v("（x,y）")]),i("td",[t._v("拖拽中")])]),i("tr",[i("td",[t._v("dragstop")]),i("td",[t._v("（x,y）")]),i("td",[t._v("拖拽结束时")])]),i("tr",[i("td",[t._v("resizestart")]),i("td",[t._v("（x,y,w,h）")]),i("td",[t._v("缩放开始时")])]),i("tr",[i("td",[t._v("resizing")]),i("td",[t._v("（x,y,w,h）")]),i("td",[t._v("缩放进行中")])]),i("tr",[i("td",[t._v("resizestop")]),i("td",[t._v("（x,y,w,h）")]),i("td",[t._v("缩放开始时")])])])])])}],f={},b=Object(v["a"])(f,p,_,!1,null,null,null),x=b.exports,w={components:{dragAndResize:g,md:x},data:function(){return{name:"name",activeName:"first",show:!1}},methods:{handleClick:function(){this.show=!this.show}}},y=w,z=y,C=(i("0367"),Object(v["a"])(z,n,s,!1,null,"9d775972",null));e["default"]=C.exports}}]);
//# sourceMappingURL=chunk-1d3aa00f.3b6f2043.js.map
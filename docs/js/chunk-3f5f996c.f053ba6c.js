(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f5f996c"],{"67a7":function(t,e,n){},"6ae3":function(t,e,n){"use strict";n("67a7")},"70a9":function(t,e,n){"use strict";n("a44d")},"7b49":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("pre",{staticClass:"pre-detail"},[t._v("        使用说明: 属性：\n                src：string,图片地址\n                selfStyle：object,自定义样式\n                zoomMax：number,缩放最大值\n                zoomMin：number,缩放最小值\n    ")]),n("single-image")],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"imageContainer",staticClass:"single-image-container",style:t.selfStyle},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showOperate,expression:"showOperate"}],staticClass:"detail-operate"},[n("el-link",{attrs:{underline:!1},on:{click:t.handFullScreen}},[n("i",{class:t.fullType?"el-icon-full-screen":"el-icon-c-scale-to-original"}),t._v(t._s(t.fullName)+" ")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-link",{attrs:{underline:!1,disabled:t.zoomNum==t.zoomMax},on:{click:t.handZoomIn}},[n("i",{staticClass:"el-icon-zoom-in"}),t._v("放大 ")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-link",{attrs:{underline:!1,disabled:t.zoomNum==t.zoomMin},on:{click:t.handZoomOut}},[n("i",{staticClass:"el-icon-zoom-out"}),t._v("缩小 ")])],1),n("div",{staticClass:"image-wrap"},[n("el-image",{ref:"image",class:{"full-w":t.fullType},style:{transform:"scale("+t.zoomNum+") ",width:t.imgW,height:t.imgH,left:t.left+"px",top:t.top+"px"},attrs:{src:t.src,draggable:"false"},on:{load:t.handleLoad,error:t.handleError}},[n("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),n("span",{staticClass:"dot"},[t._v("...")])])])],1)])},a=[],l=function(t,e){var n=function(t){var n=t.type;return"DOMMouseScroll"!=n&&"mousewheel"!=n||(t.delta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),t.srcElement&&!t.target&&(t.target=t.srcElement),t.preventDefault||t.returnValue===e||(t.preventDefault=function(){t.returnValue=!1}),t};return t.addEventListener?function(t,i,o,s){"mousewheel"===i&&document.mozFullScreen!==e&&(i="DOMMouseScroll"),t.addEventListener(i,(function(t){o.call(this,n(t))}),s||!1)}:t.attachEvent?function(e,i,o,s){e.attachEvent("on"+i,(function(i){i=i||t.event,o.call(e,n(i))}))}:function(){}}(window),r=l,u={props:{src:{type:String,default:"/test.png"},selfStyle:{default:function(){return{width:"100%",height:"300px",border:"1px solid #ccc",margin:"0 auto"}}},zoomMax:{default:3},zoomMin:{default:.2}},data:function(){return{showOperate:!0,fullType:!1,zoomNum:1,maxHeight:null,left:0,top:0,el:null,dragging:!1,mouseClickPo:null,startObj:null}},watch:{src:function(t){t&&this.initOperate(!0)}},computed:{fullName:function(){return this.fullType?"全屏":"初始"},imgW:function(){var t="";return this.fullType&&(t="100%"),t},imgH:function(){return this.fullType?"":this.maxHeight+"px"}},methods:{handFullScreen:function(){this.fullType=!this.fullType,this.initOperate()},handZoomIn:function(){this.zoomFn("plus")},handZoomOut:function(){this.zoomFn("reduce")},zoomFn:function(t){var e=this.zoomNum;"plus"==t?(e+=.1,e=e>this.zoomMax?this.zoomMax:e):"reduce"==t&&(e-=.1,e=e<this.zoomMin?this.zoomMin:e),this.zoomNum=e},initOperate:function(t){1==t&&(this.fullType=!1),this.left=0,this.top=0,this.zoomNum=1},initHeight:function(){var t=this;this.maxHeight=this.$refs.imageContainer.offsetHeight,this.maxHeight||setTimeout((function(){t.initHeight()}),800)},setMouseClickPo:function(t){var e=t.target.getBoundingClientRect(),n=t.pageX,i=t.pageY;this.mouseClickPo={mouseX:n,mouseY:i,xL:e.left,xR:e.right,yT:e.top,yB:e.bottom,left:this.left,top:this.top}},mousedown:function(t){t.stopPropagation&&t.stopPropagation(),this.dragging=!0,this.startObj=this.el.getBoundingClientRect(),this.setMouseClickPo(t),document.documentElement.addEventListener("mousemove",this.move),document.documentElement.addEventListener("mouseup",this.up)},move:function(t){if(this.dragging){var e=this.mouseClickPo,n=this.startObj,i=t.pageX,o=t.pageY;i<=n.right&&i>=n.left&&(this.left=e.left+(i-e.mouseX)),o>=n.top&&o<=n.bottom&&(this.top=e.top+(o-e.mouseY))}},up:function(t){this.dragging=!1,document.documentElement.removeEventListener("mousemove",this.move),document.documentElement.removeEventListener("mouseup",this.up)},handleLoad:function(t){this.showOperate=!0},handleError:function(t){this.showOperate=!1}},mounted:function(){this.initHeight(),window.addEventListener("resize",this.initHeight);var t=this;r(this.$refs.imageContainer,"mousewheel",(function(e){e.delta<0?t.handZoomIn():t.handZoomOut()}));var e=this.$refs.imageContainer;e&&(this.el=e,this.startObj=this.el.getBoundingClientRect(),e.addEventListener("mousedown",this.mousedown,!1))},beforeDestory:function(){window.removeEventListener("resize",this.initHeight)}},c=u,m=c,h=(n("6ae3"),n("2877")),d=Object(h["a"])(m,s,a,!1,null,null,null),f=d.exports,p={components:{singleImage:f},data:function(){return{name:"name"}}},g=p,v=g,w=(n("70a9"),Object(h["a"])(v,i,o,!1,null,"3352ee44",null));e["default"]=w.exports},a44d:function(t,e,n){}}]);
//# sourceMappingURL=chunk-3f5f996c.f053ba6c.js.map
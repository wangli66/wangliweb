(function(e){function t(t){for(var a,i,s=t[0],l=t[1],c=t[2],u=0,h=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&h.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(h.length)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},i={app:0},r={app:0},o=[];function s(e){return l.p+"assets/js/"+({}[e]||e)+"."+{"chunk-117040ef":"beb071b5","chunk-117655b7":"a548460e","chunk-11f4f8bb":"b81870bf","chunk-181ccc8e":"20b06087","chunk-2d21af2b":"00741864","chunk-34f7ae9a":"ca6c0fc7","chunk-37ff6b0e":"6ed13967","chunk-3c73325c":"881bd2f4","chunk-44a01f41":"81444050","chunk-56066946":"5b2ce36a","chunk-56a2380c":"ccad326b","chunk-6214b0cb":"4fbe9a27","chunk-62928829":"cf52d3a5","chunk-697c6ace":"5859c571","chunk-708d642e":"2dcca424","chunk-7243acf4":"2f900f58","chunk-7251c47a":"776668e0","chunk-72d36cb9":"4806be4a","chunk-761ef372":"66f42039","chunk-7a7c1b44":"9ca15657","chunk-7be1f548":"d093f879","chunk-c4333f4a":"2915045f","chunk-e3094844":"395b14f8","chunk-ffed7bd4":"98056fad","chunk-6d6a6ebb":"deb585dd","chunk-8edfb464":"cd76afaa"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-117040ef":1,"chunk-117655b7":1,"chunk-11f4f8bb":1,"chunk-181ccc8e":1,"chunk-34f7ae9a":1,"chunk-37ff6b0e":1,"chunk-3c73325c":1,"chunk-44a01f41":1,"chunk-56066946":1,"chunk-56a2380c":1,"chunk-6214b0cb":1,"chunk-62928829":1,"chunk-697c6ace":1,"chunk-708d642e":1,"chunk-7243acf4":1,"chunk-7251c47a":1,"chunk-72d36cb9":1,"chunk-761ef372":1,"chunk-7a7c1b44":1,"chunk-7be1f548":1,"chunk-c4333f4a":1,"chunk-e3094844":1,"chunk-6d6a6ebb":1,"chunk-8edfb464":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="assets/css/"+({}[e]||e)+"."+{"chunk-117040ef":"0e433876","chunk-117655b7":"0e433876","chunk-11f4f8bb":"0e433876","chunk-181ccc8e":"0e433876","chunk-2d21af2b":"31d6cfe0","chunk-34f7ae9a":"faf2f3f4","chunk-37ff6b0e":"4b653bf5","chunk-3c73325c":"0e433876","chunk-44a01f41":"0e433876","chunk-56066946":"0e433876","chunk-56a2380c":"0e433876","chunk-6214b0cb":"0e433876","chunk-62928829":"0e433876","chunk-697c6ace":"0e433876","chunk-708d642e":"0e433876","chunk-7243acf4":"0e433876","chunk-7251c47a":"9b176de0","chunk-72d36cb9":"0e433876","chunk-761ef372":"0e433876","chunk-7a7c1b44":"0e433876","chunk-7be1f548":"0e433876","chunk-c4333f4a":"0e433876","chunk-e3094844":"0fc50609","chunk-ffed7bd4":"31d6cfe0","chunk-6d6a6ebb":"aab9a738","chunk-8edfb464":"1a8998c1"}[e]+".css",r=l.p+a,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var c=o[s],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===r))return t()}var h=document.getElementsByTagName("style");for(s=0;s<h.length;s++){c=h[s],u=c.getAttribute("data-href");if(u===a||u===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete i[e],d.parentNode.removeChild(d),n(o)},d.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(d)})).then((function(){i[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=s(e);var h=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;h.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",h.name="ChunkLoadError",h.type=a,h.request=i,n[1](h)}r[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var h=0;h<c.length;h++)t(c[h]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0616":function(e,t,n){e.exports=n.p+"assets/img/logo.bac162aa.png"},1781:function(e,t,n){"use strict";n("37b7")},"1bb1":function(e,t,n){},"1dec":function(e,t,n){"use strict";n("9e8e")},2395:function(e,t,n){},"2b88":function(e,t,n){},3455:function(e,t,n){},3549:function(e,t,n){"use strict";n("6b50")},3628:function(e,t,n){},"37b7":function(e,t,n){},"3ac0":function(e,t,n){"use strict";n("3628")},"403e":function(e,t,n){},4821:function(e,t,n){"use strict";n("9e5e")},"492e":function(e,t,n){"use strict";n("2b88")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],o=(n("7c55"),n("2877")),s={},l=Object(o["a"])(s,i,r,!1,null,null,null),c=l.exports,u=(n("d3b7"),n("8c4f")),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"home-container"},[n("home-header",{directives:[{name:"show",rawName:"v-show",value:e.showHeader,expression:"showHeader"}]}),n("el-container",[e.showAside?n("home-aside"):e._e(),n("el-main",{staticClass:"home-main"},[e.showCurmbs?n("home-crumbs"):e._e(),n("div",{staticClass:"main-view"},[n("router-view")],1)],1)],1)],1)},d=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-header",{staticClass:"home-header"},[a("div",{staticClass:"left-content"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:n("0616")}})]),a("span",{staticClass:"title"},[e._v("网站前端框架设计及功能说明")])]),a("div",{staticClass:"menu-content"},[a("self-menu-list",{attrs:{menuList:e.menuList}})],1),a("div",{staticClass:"right-content"},[e.userName?[e._v(" "+e._s(e.userName)+" "),a("span",{staticClass:"linked",on:{click:e.handleQuit}},[e._v("注销")])]:[a("span",{staticClass:"linked",on:{click:e.handleLogin}},[e._v("欢迎登陆")])]],2)])},f=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{key:e.keyName+"-"+e.keyVal,staticClass:"self-menu-list-container",attrs:{"default-active":e.activeIndex,mode:e.mode,"background-color":"#323330","text-color":"#ffffff","active-text-color":"#ffd04b",router:"","collapse-transition":!1}},[e._l(e.menuData,(function(t,a){return[t.children&&t.children.length>0?[n("self-sub-menu",{key:"sub-"+a+t.path,attrs:{data:t}})]:[n("el-menu-item",{key:"self-menu-"+a,class:{"el-submenu-link-url":t.isLinkUrl},attrs:{index:t.path,disabled:t.disabled}},[t.isLinkUrl?[n("span",{staticClass:"link-url",on:{click:function(n){return n.stopPropagation(),e.handleClickMenu(t,n)}}},[e._v(" "+e._s(t.name))])]:[e._v(" "+e._s(t.name)+" ")]],2)]]}))],2)},g=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-submenu",{attrs:{index:e.subMenu.path,"popper-append-to-body":!1,"popper-class":"self-sub-menu"}},[n("template",{slot:"title"},[e._v(e._s(e.subMenu.name))]),e.subMenu.children&&e.subMenu.children.length>0?[e._l(e.subMenu.children,(function(t,a){return[t.children&&t.children.length>0?[n("default-sub-menu",{key:t.path+"-"+a,attrs:{data:t}})]:[n("el-menu-item",{key:t.path,class:{"el-submenu-link-url":t.isLinkUrl},attrs:{index:t.path,disabled:t.disabled}},[t.isLinkUrl?[n("span",{staticClass:"link-url",on:{click:function(n){return n.stopPropagation(),e.handleClickMenu(t,n)}}},[e._v(" "+e._s(t.name))])]:[e._v(" "+e._s(t.name)+" ")]],2)]]}))]:e._e()],2)},y=[],v={props:{data:Object},name:"defaultSubMenu",data:function(){return{subMenu:{}}},methods:{handleClickMenu:function(e,t){return t.stopPropagation(),window.open(e.isLinkUrl,"_blank"),!1}},created:function(){this.subMenu=this.data}},k=v,w=Object(o["a"])(k,b,y,!1,null,null,null),C=w.exports,_={inheritAttrs:!1,components:{selfSubMenu:C},props:{menuList:Array,mode:{type:String,default:"horizontal"},defaultActiveIndex:{default:""},keyName:{type:String,default:"self-menu-001"}},data:function(){return{activeIndex:"",keyVal:1,menuData:[]}},watch:{menuList:{deep:!0,handler:function(e){this.menuData=[],this.menuData=e,this.keyVal++,this.dealActiveIndex()}},$route:function(e,t){this.dealActiveIndex()}},methods:{dealActiveIndex:function(e){var t=this;this.$nextTick((function(){t.activeIndex=t.$route.path}))},handleClickMenu:function(e,t){return t.stopPropagation(),window.open(e.isLinkUrl,"_blank"),!1}},created:function(){this.menuData=this.menuList,this.defaultActiveIndex?this.activeIndex=this.defaultActiveIndex:this.dealActiveIndex()}},x=_,S=x,M=(n("492e"),Object(o["a"])(S,p,g,!1,null,null,null)),D=M.exports,T=(n("c740"),n("4160"),n("159b"),n("5530")),A={methods:{forEachMenu:function(e,t){var n=this;(e||[]).forEach((function(e){if(!e.meta.noMenu){var a=t.findIndex((function(t){return t.path==e.path}));if(a<0)e.component=void 0,t.push(Object(T["a"])(Object(T["a"])(Object(T["a"])({},e),e.meta),{children:null}));else{var i=t[a];i.component=void 0,t[a]=Object(T["a"])(Object(T["a"])(Object(T["a"])({},i),i.meta),{children:null})}e.children&&e.children.length>0&&(a=t.findIndex((function(t){return t.path==e.path})),t[a].children=[],n.forEachMenu(e.children,t[a].children))}}))}}},P=(n("af87"),{components:{selfMenuList:D},mixins:[A],data:function(){return{menuList:[],userName:""}},methods:{handleLogin:function(){this.$alert("登录请自定义开发")},handleQuit:function(){this.$storage.clearS("userId"),this.$storage.clearS("token"),this.$storage.clearS("userName"),this.$router.push({path:"/loginAndReg"})},initMenu:function(){var e=this.$router.options.routes;e=e[0].children;var t=[];this.forEachMenu(e,t),this.menuList=t}},created:function(){this.initMenu()},mounted:function(){this.userName=this.$storage.getS("userName")}}),I=P,j=I,O=(n("896c"),Object(o["a"])(j,m,f,!1,null,null,null)),$=O.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-aside",{staticClass:"home-aside",staticStyle:{width:"200px"}},[n("div",{staticClass:"menu-content"},[n("div",{staticClass:"menu-item"},[e._v("导航栏")]),n("self-menu-list",{attrs:{keyName:"aside-menu-002",menuList:e.menuList,mode:"vertical"}})],1)])},R=[],B=(n("4de4"),n("caad"),n("ac1f"),n("2532"),n("1276"),{components:{selfMenuList:D},mixins:[A],data:function(){return{menuList:[],currentPath:""}},watch:{$route:function(e){var t=this.$route.path;t=t.split("/"),t=t[0]||t[1],this.currentPath.includes(t)||(this.currentPath=this.$route.path,this.initMenu())}},methods:{initMenu:function(){var e=this.$router.options.routes;e=e[0].children;var t=this.$route.path,n=e.filter((function(e){return t.includes(e.path)})),a=[];this.forEachMenu(n[0].children,a),this.menuList=a}},created:function(){this.currentPath=this.$route.path,this.initMenu()}}),N=B,z=N,U=(n("1dec"),Object(o["a"])(z,E,R,!1,null,null,null)),F=U.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bread-crumb-container"},[n("el-breadcrumb",{attrs:{separator:"/"}},[e._l(e.breadList,(function(t,a){return[t.noCrumbLink?[n("el-breadcrumb-item",{key:a+"-"+t.name},[e._v(" "+e._s(t.name)+" ")])]:[n("el-breadcrumb-item",{key:a+"-"+t.name,attrs:{to:{path:t.path,query:t.query}}},[e._v(" "+e._s(t.name)+" ")])]]}))],2)],1)},W=[],q=(n("d81d"),n("a434"),n("b0c0"),{name:"breadCurmb",props:{isIncludeHome:{type:Boolean,default:!0}},data:function(){return{}},watch:{$route:function(e,t){this.getBreadcrumb(e,t)}},computed:{breadList:function(){return this.$store.state.crumb.crumbData}},methods:{recordCurmb:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"crumbData";this.$storage.setL({key:t,value:e})},getBreadcrumb:function(e,t){var n=this.$route,a=[],i=n.path,r=this.$store.state.crumb.crumbData,o=r.filter((function(e){return e.path===i}));if(o.length>0){var s=r.findIndex((function(e){return e.path===i}));return a=r.splice(0,s+1),this.$store.commit("crumb/getCrumbRoute",a),this.recordCurmb(a),!1}a=n.matched.map((function(e,t){var n=e.meta||{};return{path:e.path,name:n.name,noCrumb:n.noCrumb,noCrumbLink:n.noCrumbLink}})),a=a.filter((function(e){return!e.noCrumb})),this.$store.commit("crumb/getCrumbRoute",a),this.recordCurmb(a)}},created:function(){this.getBreadcrumb()}}),J=q,V=J,G=(n("85bc"),Object(o["a"])(V,H,W,!1,null,null,null)),Y=G.exports,K={name:"Home",components:{homeHeader:$,homeAside:F,homeCrumbs:Y},data:function(){return{showHeader:!0,showAside:!1,showCurmbs:!1}},watch:{$route:function(){this.dealAsideShow()}},methods:{dealAsideShow:function(){var e=this.$route;e.meta&&(this.showHeader=!e.meta.hiddenHeader,this.showAside=!e.meta.hiddenLeftMenu,this.showCurmbs=!e.meta.hiddenCrumbs)}},mounted:function(){this.dealAsideShow()}},X=K,Z=(n("de16"),Object(o["a"])(X,h,d,!1,null,null,null)),Q=Z.exports,ee=[{path:"/layout/style1",name:"/layout/style1",component:function(){return n.e("chunk-697c6ace").then(n.bind(null,"d6a4"))},meta:{name:"上左右"}},{path:"/layout/style2",name:"/layout/style2",component:function(){return n.e("chunk-11f4f8bb").then(n.bind(null,"6c2e"))},meta:{name:"上下带面包屑",hiddenLeftMenu:!0}},{path:"/layout/style3",name:"/layout/style3",component:function(){return n.e("chunk-6214b0cb").then(n.bind(null,"c0d5"))},meta:{name:"上下无面包屑",hiddenLeftMenu:!0,hiddenCrumbs:!0}},{path:"/layout/style4",name:"/layout/style4",component:function(){return n.e("chunk-181ccc8e").then(n.bind(null,"91a5"))},meta:{name:"只有一个主体",hiddenHeader:!0,hiddenLeftMenu:!0,hiddenCrumbs:!0}}],te=ee,ne=[{path:"/function/dragResizeFunction",name:"function-dragresize",component:function(){return n.e("chunk-e3094844").then(n.bind(null,"2bb54"))},meta:{name:"拖拽缩放组件"}},{path:"/function/function1",name:"function-function1",component:function(){return n.e("chunk-34f7ae9a").then(n.bind(null,"7b49"))},meta:{name:"拖拽图片",noMenu:!0}},{path:"/function/tableFunction",name:"function-table",component:function(){return n.e("chunk-7243acf4").then(n.bind(null,"5ad1"))},meta:{name:"表格组件"}}],ae=ne,ie=[{path:"/tool/routers",name:"/tool/routers",component:function(){return n.e("chunk-44a01f41").then(n.bind(null,"4e9e"))},meta:{name:"路由配置"}},{path:"/tool/disabledClick",name:"/tool/disabledClick",component:function(){return n.e("chunk-44a01f41").then(n.bind(null,"4e9e"))},meta:{name:"不可点击菜单",disabled:!0}},{path:"/function/function2",name:"function-function2",component:function(){return n.e("chunk-34f7ae9a").then(n.bind(null,"7b49"))},meta:{name:"菜单的外部链接",isLinkUrl:"https://www.baidu.com"}},{path:"/tool/http",name:"/tool/http",component:function(){return n.e("chunk-7a7c1b44").then(n.bind(null,"1acd"))},meta:{name:"封装的请求"}},{path:"/tool/storage",name:"/tool/storage",component:function(){return n.e("chunk-3c73325c").then(n.bind(null,"1b62"))},meta:{name:"storage存储"}},{path:"/tool/others",name:"/tool/others",component:function(){return n.e("chunk-117655b7").then(n.bind(null,"b6a9"))},meta:{name:"其他"}}],re=ie,oe=[{path:"/map/leaflet",name:"/map/leaflet",redirect:"/map/leaflet/draw",component:function(){return n.e("chunk-117040ef").then(n.bind(null,"f5c3"))},meta:{name:"leaflet"},children:[{path:"/map/leaflet/baseLayer",name:"/map/leaflet/baseLayer",component:function(){return n.e("chunk-c4333f4a").then(n.bind(null,"0aa5"))},meta:{name:"底图组件"}},{path:"/map/leaflet/draw",name:"/map/leaflet/draw",component:function(){return Promise.all([n.e("chunk-ffed7bd4"),n.e("chunk-8edfb464")]).then(n.bind(null,"2061"))},meta:{name:"画图"}},{path:"/map/leaflet/geoJson",name:"/map/leaflet/geoJson",component:function(){return n.e("chunk-37ff6b0e").then(n.bind(null,"154b"))},meta:{name:"geoJson"}},{path:"/map/leaflet/baseLayerChange",name:"/map/leaflet/baseLayerChange",component:function(){return n.e("chunk-72d36cb9").then(n.bind(null,"132d"))},meta:{name:"底图切换",noMenu:!0}},{path:"/map/leaflet/geoJsonMultiple",name:"/map/leaflet/geoJsonMultiple",component:function(){return n.e("chunk-7be1f548").then(n.bind(null,"ba4a"))},meta:{name:"geoJson组件",noMenu:!0}},{path:"/map/leaflet/sideBySide",name:"/map/leaflet/sideBySide",component:function(){return Promise.all([n.e("chunk-ffed7bd4"),n.e("chunk-6d6a6ebb")]).then(n.bind(null,"0d69"))},meta:{name:"sideBySide"}}]},{path:"/map/openlayers",name:"/map/openlayers",redirect:"/map/openlayers/draw",component:function(){return n.e("chunk-62928829").then(n.bind(null,"6fb0"))},meta:{name:"openlayers"},children:[{path:"/map/openlayers/draw",name:"/map/openlayers/draw",component:function(){return n.e("chunk-2d21af2b").then(n.bind(null,"be4f"))},meta:{name:"画图"}}]}],se=oe;a["default"].use(u["a"]);var le=[{path:"/",name:"Home",component:Q,redirect:"/layout",meta:{name:"首页",noCrumb:!0,noCrumbLink:!0},children:[{path:"/singleImage",name:"/singleImage",component:function(){return n.e("chunk-7251c47a").then(n.bind(null,"92ba"))},meta:{name:"单图片组件",noMenu:!0}},{path:"/layout",name:"/layout",redirect:"/layout/style1",component:function(){return n.e("chunk-56a2380c").then(n.bind(null,"0e9c"))},meta:{name:"布局"},children:te},{path:"/function",name:"/function",redirect:"/function/function1",component:function(){return n.e("chunk-56066946").then(n.bind(null,"59f5"))},meta:{name:"功能"},children:ae},{path:"/tool",name:"/tool",redirect:"/tool/routers",component:function(){return n.e("chunk-708d642e").then(n.bind(null,"8030"))},meta:{name:"工具及其他"},children:re},{path:"/map",name:"/map",redirect:"/map/leaflet",component:function(){return n.e("chunk-761ef372").then(n.bind(null,"87b0"))},meta:{name:"地图"},children:se}]}],ce=new u["a"]({routes:le}),ue=u["a"].prototype.push;u["a"].prototype.push=function(e){return ue.call(this,e).catch((function(e){return e}))};var he=ce,de=n("2f62"),me=(n("99af"),{namespaced:!0,state:{crumbData:[],lastCrumbData:[]},mutations:{getCrumbRoute:function(e,t){if(t&&t.length>0){var n=t.pop(),a=!1,i=0;e.crumbData.forEach((function(e,t){e.path===n.path&&e.name===n.name&&(a=!0,i=t)})),a?e.crumbData=e.crumbData.splice(0,i+1):(t.forEach((function(t){e.crumbData.forEach((function(e){e.path===t.path&&e.name===t.name&&(t.query=e.query,t.name=e.name,t.noCrumb=e.noCrumb,t.noCrumbLink=e.noCrumbLink)}))})),t.push(n),e.crumbData=[].concat(t))}},setCrumbList:function(e,t){e.crumbData=[].concat(t)},setLastCrumbData:function(e,t){e.lastCrumbData=[].concat(t)},addOneCrumb:function(e,t){e.crumbData.push(t)},changeCrumbLastName:function(e,t){e.crumbData[e.crumbData.length-1].name=t},changeCrumbName:function(e,t){var n=e.crumbData.length-1;"string"===typeof t?e.crumbData[n].name=t:(n=t.index?t.index:n,e.crumbData[n].name=t.name)}}}),fe=me;a["default"].use(de["a"]);var pe=new de["a"].Store({state:{},mutations:{},actions:{},modules:{crumb:fe}}),ge=(n("a15b"),n("b64b"),n("ca00"),n("bc3a")),be=n.n(ge),ye=function(e,t,n,a){if("l"==e?(e=window.localStorage,a=a||1440):(e=window.sessionStorage,a=a||1440),"undefined"==typeof n){var i=JSON.parse(e.getItem(t)||"{}");return i&&(!a||(new Date).getTime()<i.expires)?i.data:(e.removeItem(t),null)}try{return e.setItem(t,JSON.stringify({data:n,expires:(new Date).getTime()+1e3*a*60}))}catch(r){}},ve={setL:function(e){ye("l",e.key,e.value,e.expires)},getL:function(e){var t=e.key,n=e.value;return"string"==typeof e&&(t=e,n=void 0),ye("l",t,n)},clearL:function(e){e?window.localStorage.removeItem(e):window.localStorage.clear()},setS:function(e){ye("s",e.key,e.value,e.expires)},getS:function(e){var t=e.key,n=e.value;return"string"==typeof e&&(t=e,n=void 0),ye("s",t,n)},clearS:function(e){e?window.sessionStorage.removeItem(e):window.sessionStorage.clear()}};a["default"].prototype.$storage=ve;var ke=n("5c96"),we=n.n(ke);be.a.defaults.timeout=6e5;var Le="/devServer";be.a.interceptors.request.use((function(e){return e.baseURL=void 0===e.baseURL?Le:e.baseURL,e.headers||(e.headers={"Content-Type":"application/x-www-form-urlencoded"}),"get"==e.method&&e.params&&Object.keys(e.params).forEach((function(t){e.params[t]=e.params[t]})),e.transformRequest[0]=function(t){if(t&&"function"===typeof t.get)return t;if(t){if(e.headers["Content-Type"]&&e.headers["Content-Type"].includes("application/json"))return JSON.stringify(t);var n=[];for(var a in t)n.push(a+"="+t[a]);return n.join("&")}return t},e}),(function(e){return Promise.reject(err)})),be.a.interceptors.response.use((function(e){return e.data}),(function(e){var t=e.response,n=t.data&&t.data.message||e.response.statusText;return Object(ke["Message"])({type:"error",showClose:!0,message:n}),Promise.reject(n)}));var Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,i){be.a.get(e,Object(T["a"])({params:t},n)).then((function(e){a(e)})).catch((function(e){i(e)}))}))},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,i){be()(Object(T["a"])({method:"post",url:e,data:t},n)).then((function(e){a(e)}),(function(e){i(e)}))}))},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,i){be()(Object(T["a"])({method:"delete",url:e,data:t},n)).then((function(e){a(e)}),(function(e){i(e)}))}))};a["default"].prototype.$baseURL=Le,a["default"].prototype.$get=Ce,a["default"].prototype.$post=_e,a["default"].prototype.$delete=xe,a["default"].prototype.$axios=be.a;n("5319");a["default"].directive("dialogDrag",{bind:function(e,t,n,a){var i=e.querySelector(".el-dialog__header"),r=e.querySelector(".el-dialog"),o=e;i.style.cssText+=";cursor:move;",r.style.cssText+=";left:0px;top:0px;";var s=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();i.onmousedown=function(e){var t=e.clientX-i.offsetLeft,n=e.clientY-i.offsetTop,a=document.body.clientWidth,l=document.documentElement.clientHeight,c=r.offsetWidth,u=r.offsetHeight,h=(i.offsetWidth,i.offsetHeight,o.offsetHeight),d=o.scrollHeight;h=d>h?d:h;var m=r.offsetLeft,f=a-r.offsetLeft-c,p=r.offsetTop,g=h-r.offsetTop-u,b=s(r,"left"),y=s(r,"top");b.includes("%")?(b=+document.body.clientWidth*(+b.replace(/\%/g,"")/100),y=+document.body.clientHeight*(+y.replace(/\%/g,"")/100)):(b=+b.replace(/\px/g,""),y=+y.replace(/\px/g,"")),document.onmousemove=function(e){(e.clientX<0||e.clientY<0||e.clientX>a||e.clientY>l)&&(document.onmousemove=null,document.onmouseup=null);var i=e.clientX-t,o=e.clientY-n;-i>m?i=-m:i>f&&(i=f),-o>p?o=-p:o>g&&(o=g),r.style.cssText+=";left:".concat(i+b,"px;top:").concat(o+y,"px;")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}});n("6cc5"),n("3455"),n("e4cb"),n("2c43"),n("b475"),n("0fae");var Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"self-table-container",style:e.tableConStyle},[e.operateContentVisible?n("div",{staticClass:"operate-content"},[n("div",{staticClass:"left-content"},[e._t("default")],2),n("div",{staticClass:"center-content"},[e._t("center")],2),n("div",{staticClass:"right-content"},[e._t("right",[n("el-input",{staticClass:"self-search-input",attrs:{placeholder:"请输入您要搜索的内容",clearable:"",size:"small"},on:{clear:e.handleRefresh},model:{value:e.searchInputObj.input,callback:function(t){e.$set(e.searchInputObj,"input",t)},expression:"searchInputObj.input"}},[n("el-button",{attrs:{slot:"append",size:"small"},on:{click:e.handleSearch},slot:"append"},[n("i",{staticClass:"el-icon-search"})])],1),e.showRefresh?n("i",{staticClass:"el-icon-refresh self-operate-btn",on:{click:e.handleRefresh}}):e._e(),e.showColumnBtn?n("table-column-sieving",{model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}}):e._e()])],2),n("div",{staticClass:"operate-clear"})]):e._e(),e._t("table-top-content"),n("el-table",e._g(e._b({ref:"selfInnerTable",staticClass:"self-table",staticStyle:{width:"calc(100% - 0px)"},attrs:{border:"",data:e.tableData}},"el-table",e.$attrs,!1),e.$listeners),[e.showIndex?n("el-table-column",{attrs:{type:"index",width:"50",label:e.showIndexLabel}}):e._e(),e.expand?n("el-table-column",{attrs:{type:"expand",width:"30"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("expand",null,{scope:t})]}}],null,!0)}):e._e(),e.selection?[e.selectable?[n("el-table-column",{attrs:{selectable:e.selectInit,type:"selection",width:"45",align:"center"}})]:[n("el-table-column",{attrs:{type:"selection",width:"45",align:"center"}})]]:e._e(),e._l(e.columns,(function(t){return[t.hidden?e._e():n("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,sortable:!!t.sortable,"show-overflow-tooltip":!t.noShowtooltip,"header-align":t.headerAlign?t.headerAlign:"left",fixed:!!t.fixed&&t.fixed,align:t.align?t.align:"left",width:t.width,"min-width":t.minWidth},scopedSlots:e._u([{key:"default",fn:function(n){return[e._t(t.prop,[e._v(" "+e._s(n.row[t.prop])+" ")],{scope:n})]}}],null,!0)})]}))],2),e.paginationVisible?n("div",{staticClass:"self-pagination"},[n("el-pagination",{key:e.pageKey,attrs:{"current-page":e.currentPage,"page-size":e.pageSize,pageSizes:e.pageSizes,layout:e.pageLayout,total:e.totalPage,"pager-count":e.pagerCountParams},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1):e._e()],2)},Me=[],De=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-column-sieving-container flex"},[n("el-dropdown",{attrs:{trigger:"click","hide-on-click":!1}},[n("span",{staticClass:"el-dropdown-link"},[e._t("default",[n("i",{staticClass:"el-icon-menu self-icon-sieving"})])],2),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选 ")])],1),n("el-checkbox-group",{attrs:{min:1},on:{change:e.handleCheckedChange},model:{value:e.checkedArr,callback:function(t){e.checkedArr=t},expression:"checkedArr"}},e._l(e.value,(function(t){return n("el-dropdown-item",{key:t.prop},[n("el-checkbox",{attrs:{label:t.prop,disabled:t.disabled}},[e._v(e._s(t.label))])],1)})),1)],1)],1)],1)}),Te=[],Ae={props:{value:{type:Array,default:[]}},data:function(){return{checkAll:!1,checkedArr:[],allCheckData:[],isIndeterminate:!0}},methods:{handleCheckAllChange:function(e){var t=this;this.checkedArr=e?this.allCheckData:[],this.isIndeterminate=!1,this.value.forEach((function(n,a){n.disabled||(t.value[a].hidden=!e,t.$set(t.value,a,t.value[a]))}))},handleCheckedChange:function(e){var t=this;this.value.forEach((function(n,a){t.value[a].hidden=!e.includes(n.prop),t.$set(t.value,a,t.value[a])}));var n=e.length;this.checkAll=n===this.allCheckData.length,this.isIndeterminate=n>0&&n<this.allCheckData.length}},mounted:function(){var e=this;this.allCheckData=[],this.value.forEach((function(t){e.allCheckData.push(t.prop),t.hidden||e.checkedArr.push(t.prop)}));var t=this.checkedArr.length;this.checkAll=t===this.allCheckData.length,this.isIndeterminate=t>0&&t<this.allCheckData.length}},Pe=Ae,Ie=Pe,je=(n("3549"),Object(o["a"])(Ie,De,Te,!1,null,null,null)),Oe=je.exports,$e={inheritAttrs:!1,props:{selection:{type:Boolean,default:!1},showIndex:{type:Boolean,default:!1},showIndexLabel:{type:String,default:"序号"},expand:{type:Boolean,default:!1},ajaxData:{type:Object,default:function(){return{}}},columns:{type:Array,default:function(){return[]}},ajaxRequestName:{type:String,default:"ajaxTableData"},showSearchInput:{default:function(){return!0}},showRefresh:{default:function(){return!0}},showColumnBtn:{default:function(){return!0}},pagerCountParams:{type:Number,default:9},operateContentVisible:{type:Boolean,default:!0},paginationVisible:{type:Boolean,default:!0},tableConStyle:{default:function(){return{}}},isNotParent:{default:!0},selectable:{type:Boolean,default:!1},selectInit:{type:Function},loadingStyle:{type:Object,default:function(){return{lock:!0,text:"拼命加载中......",background:"rgba(255,255,255,.9)"}}}},components:{TableColumnSieving:Oe},data:function(){return{tableData:[],pageSizes:[10,20,30,50],pageSize:10,pagerCount:7,pageLayout:"total, sizes, prev, pager, next, jumper",pageLayoutSimple:"total, prev, pager, next",totalPage:0,currentPage:1,searchInput:"",searchInputObj:{input:""},loading:!1,loadingObj:{lock:!0,text:"拼命加载中",spinner:"el-loading-spinner",background:"rgba(255,255,255,.9)"},loadingInstance:null,pageKey:1,operateType:0}},watch:{ajaxData:{deep:!0,handler:function(e){this.totalPage=e.totalRecords||0,this.tableData=e.data||[]}},currentPage:function(e,t){}},methods:{handleSelect:function(e,t){this.$emit("emitSelect",e,t)},handleSelectAll:function(e,t){this.$emit("emitSelectAll",e)},handleSelectionChange:function(e){this.$emit("emitSelectionChange",e)},handleRowClick:function(e,t,n){this.$emit("emitRowClick",e,t,n)},handleCellClick:function(e,t,n,a){this.$emit("emitCellClick",e,t,n,a)},handleCellDblclick:function(e,t,n,a){this.$emit("emitCellDblclick",e,t,n,a)},handleTableCurrentChange:function(e){this.$emit("emitTableCurrentChange",e)},handleSizeChange:function(e){this.pageSize=e,this.ajaxTableData()},handleCurrentChange:function(e){this.$emit("emitCurrentChange",e),this.currentPage=e,this.ajaxTableData()},ajaxTableData:function(){var e=this.ajaxRequestName,t=this.$parent[e];if(this.isNotParent&&t)t();else if(0==this.isNotParent||!t){var n=this.getParams();this.$emit("emitAjaxTableData",n)}},dealDelPageNum:function(e){var t=1;e&&e.delNum&&(t=e.delNum);var n=this.getParams(),a=this.ajaxData.totalRecords,i=Math.ceil((a-t)/n.limit);i<this.currentPage&&(this.currentPage=Number(i))},setCurrentPage:function(e){"string"==typeof e&&(e=Number(e)),this.currentPage=e>0?e:1,this.pageKey+=1},getParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.operateType;return!0===e&&(this.searchInputObj.input="",this.currentPage=1,this.pageSize=10),this.operateType=0,{limit:this.pageSize,page:this.currentPage,condition:this.searchInputObj.input,operateType:t}},handleSearch:function(){this.currentPage=1,this.operateType=1,this.ajaxTableData()},handleRefresh:function(){this.operateType=2,this.searchInputObj.input="",this.currentPage=1,this.ajaxTableData()},showLoading:function(e){e?this.loadingInstance=this.$loading(this.loadingStyle):this.loadingInstance&&this.loadingInstance.close()}},mounted:function(){this.totalPage=this.ajaxData.totalRecords||0,this.tableData=this.ajaxData.data||[]}},Ee=$e,Re=Ee,Be=(n("1781"),Object(o["a"])(Re,Se,Me,!1,null,null,null)),Ne=Be.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"leaflet-map-container",class:e.defaultClass,style:e.defaultStyle,attrs:{id:e.id}},[e.ready?e._t("default"):e._e()],2)},Ue=[],Fe=n("e11e"),He=n.n(Fe),We=n("9f76"),qe={data:function(){return{originOptions:{crs:L.CRS.EPSG4326,zoomControl:!1,attributionControl:!1,center:[36.982253,106.1312172],zoom:4,minZoom:1,maxZoom:14,doubleClickZoom:!1},options:{},timer:null,timerNum:0,mymap:null,baseLayer:null,editLayer:null}},methods:{initMap:function(){var e=this.id;this.mymap=L.map(e,this.options),this.baseLayer=L.featureGroup(),this.mymap.addLayer(this.baseLayer),this.editLayer=L.featureGroup(),this.mymap.addLayer(this.editLayer)},ensureMapDom:function(){var e=this,t=this.id,n=document.getElementById(t);n?this.initMap():this.$nextTick((function(){if(e.timerNum>=10)return!1;e.timer((function(){e.ensureMapDom(),e.timerNum++}),100)}))}},mounted:function(){this.options=L.extend({},this.originOptions,this.mapOptions,this.$attrs),this.ensureMapDom()},beforeDestroy:function(){this.timer&&clearTimeout(this.timer),this.mymap&&this.mymap.remove()}};function Je(e){return new Fe["Control"].MousePosition(e)}Fe["Control"].MousePosition=Fe["Control"].extend({options:{position:"bottomright",separator:"  ",emptyString:"0 0",lngFirst:!1,numDigits:3,lngFormatter:void 0,latFormatter:void 0,prefix:""},onAdd:function(e){return this._container=Fe["DomUtil"].create("div","leaflet-control-mouseposition"),Fe["DomEvent"].disableClickPropagation(this._container),e.on("mousemove",this._onMouseMove,this),this._container.innerHTML=this.options.emptyString,this._container},onRemove:function(e){e.off("mousemove",this._onMouseMove)},_onMouseMove:function(e){var t=this.options.lngFormatter?this.options.lngFormatter(e.latlng.lng):Fe["Util"].formatNum(e.latlng.lng,this.options.numDigits),n=this.options.latFormatter?this.options.latFormatter(e.latlng.lat):Fe["Util"].formatNum(e.latlng.lat,this.options.numDigits),a=this.options.lngFirst?t+this.options.separator+n:n+this.options.separator+t,i=this.options.prefix+" "+a;this._container.innerHTML=i}}),Fe["Map"].mergeOptions({positionControl:!1}),Fe["Map"].addInitHook((function(){this.options.positionControl&&(this.positionControl=new Fe["Control"].MousePosition,this.addControl(this.positionControl))}));var Ve={inheritAttrs:!1,mixins:[qe],props:{id:{type:String,default:"map",require:!0},mapOptions:{type:Object,detault:function(){return{}}},defaultStyle:{default:function(){return{height:"100%","min-height":"100px",border:"1 px solid# ccc"}}},defaultClass:{default:function(){return""}},mousePosition:{type:Boolean,default:!1},showScale:{type:Boolean,default:!1}},name:"WangLeaflet",data:function(){return{ready:!1}},methods:{getMap:function(){return this.mymap},getBaseLayer:function(){return this.baseLayer},getEditLayer:function(){return this.editLayer},getAllLayer:function(){return{map:this.mymap,baseLayer:this.baseLayer,editLayer:this.editLayer}},initScale:function(e){var t={maxWidth:150,metric:!0,imperial:!1};e&&(t=Object.assign({},t,e)),He.a.control.scale(t).addTo(this.mymap)}},mounted:function(){this.ready=!0,this.$emit("ready",this.mymap),this.mousePosition&&this.mymap.addControl(Je()),this.showScale&&this.initScale()}},Ge=Ve,Ye=(n("3ac0"),Object(o["a"])(Ge,ze,Ue,!1,null,null,null)),Ke=Ye.exports;Ke.install=function(e){e.component(Ke.name,Ke)};var Xe=Ke,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return this.showChangeBtn&&e.showChangeBtnArr.length>1?n("div",{staticClass:"self-leaflet-base-layer",class:e.customClass,style:e.customStyle},["topright"==e.showStyle?e._l(e.showChangeBtnArr,(function(t,a){return n("div",{key:"baseType-"+a,staticClass:"base-layer-btn",on:{click:function(n){return e.handleChangeBase(t)}}},[e._t(t,[n("div",{staticClass:"btn-image",class:["btn-image-"+t,e.currentBaseType==t?"current-active":""]},[n("div",{staticClass:"btn-txt"},[e._v(e._s(e.titleServeLayerType[t]))])])],{scope:t})],2)})):"bottomright"==e.showStyle?[n("div",{staticClass:"base-layer-style-2",on:{click:function(e){e.stopPropagation()},dblclick:function(e){e.stopPropagation()},mousemove:function(e){e.stopPropagation()}}},[n("div",{staticClass:"base-layer-style-2-content"},e._l(e.showChangeBtnArr,(function(t,a){return n("div",{key:"baseType-"+a,staticClass:"base-layer-btn",style:{order:e.currentBaseType==t?1:2},on:{click:function(n){return e.handleChangeBase(t)}}},[e._t(t,[n("div",{staticClass:"btn-image",class:["btn-image-"+t,e.currentBaseType==t?"current-active":""]}),n("div",{staticClass:"btn-txt"},[e._v(e._s(e.titleServeLayerType[t]))])],{scope:t})],2)})),0)])]:e._e()],2):e._e()},Qe=[],et=n("9266"),tt={data:function(){return{parentRef:null,parentMap:null,baseLayer:null}},methods:{getWmts:function(){return Object(et["a"])(We["a"][baseType].url,We["a"][baseType].opt)},changeBaseType:function(e){if(this.baseLayer.clearLayers(),We["a"][e]){var t=Object(et["a"])(We["a"][e].url,We["a"][e].opt);this.baseLayer.addLayer(t)}if(We["a"][e+"1"]){var n=e+"1",a=Object(et["a"])(We["a"][n].url,We["a"][n].opt);this.baseLayer.addLayer(a)}if(We["a"][e+"2"]){var i=e+"2",r=Object(et["a"])(We["a"][i].url,We["a"][i].opt);this.baseLayer.addLayer(r)}},setWmtsService:function(e){var t=this,n=Object.keys(e)||[];n.forEach((function(n){var a=e[n],i=Object(et["a"])(a.url,a.opt);t.baseLayer.addLayer(i)}))}},mounted:function(){this.parentRef=this.$parent,this.parentMap=this.$parent.getMap(),this.baseLayer=L.layerGroup(),this.parentMap.addLayer(this.baseLayer)}},nt={mixins:[tt],name:"WlBaseLayer",props:{customStyle:{default:function(){return{position:"absolute",right:"10px",top:"10px"}}},customClass:{default:""},showStyle:{default:"topright"},showChangeBtn:{default:!0},defaultTileServe:{type:Array,default:function(){return["skymapVec"]}},serviceType:{type:String,default:""},serviceConfig:{type:Object,default:function(){return{}}}},data:function(){return{titleServeLayerType:{skymapVec:"矢量",skymapTopography:"地形",skymapImage:"影像"},currentBaseType:""}},computed:{showChangeBtnArr:function(){var e=this;return this.defaultTileServe.filter((function(t){return e.titleServeLayerType[t]}))}},methods:{handleChangeBase:function(e){this.changeTileServe(e)},changeTileServe:function(e){this.currentBaseType=e,this.changeBaseType(e)},getBaseLayer:function(){return this.baseLayer},setcustomServe:function(e,t){"wmts"===e&&this.setWmtsService(t)}},mounted:function(){if(this.serviceType)this.setWmtsService(this.serviceConfig);else if(this.showChangeBtnArr.length>0){var e=this.showChangeBtnArr[0];this.currentBaseType=e,this.changeBaseType(e)}else this.$alert("请传入有效的底图类型","提示")}},at=nt,it=(n("4821"),Object(o["a"])(at,Ze,Qe,!1,null,null,null)),rt=it.exports;rt.install=function(e){e.component(rt.name,rt)};var ot=rt,st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"self-leaflet-edit-layer"})},lt=[];function ct(e,t,n,a,i){return new Fe["ImageOverlay"].Rotated(e,t,n,a,i)}Fe["ImageOverlay"].Rotated=Fe["ImageOverlay"].extend({initialize:function(e,t,n,a,i){"string"===typeof e?this._url=e:this._rawImage=e,this._topLeft=Fe["latLng"](t),this._topRight=Fe["latLng"](n),this._bottomLeft=Fe["latLng"](a),Fe["setOptions"](this,i)},onAdd:function(e){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Fe["DomUtil"].addClass(this._rawImage,"leaflet-interactive"),this.addInteractiveTarget(this._rawImage)),e.on("zoomend resetview",this._reset,this),this.getPane().appendChild(this._image),this._reset()},onRemove:function(e){e.off("zoomend resetview",this._reset,this),Fe["ImageOverlay"].prototype.onRemove.call(this,e)},_initImage:function(){var e=this._rawImage;this._url&&(e=Fe["DomUtil"].create("img"),e.style.display="none",this.options.crossOrigin&&(e.crossOrigin=""),e.src=this._url,this._rawImage=e),Fe["DomUtil"].addClass(e,"leaflet-image-layer");var t=this._image=Fe["DomUtil"].create("div","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.appendChild(e),t.onselectstart=Fe["Util"].falseFn,t.onmousemove=Fe["Util"].falseFn,e.onload=function(){this._reset(),e.style.display="block",this.fire("load")}.bind(this),e.alt=this.options.alt},_reset:function(){var e=this._image,t=this._map.latLngToLayerPoint(this._topLeft),n=this._map.latLngToLayerPoint(this._topRight),a=this._map.latLngToLayerPoint(this._bottomLeft),i=n.subtract(t).add(a),r=Fe["bounds"]([t,n,a,i]),o=r.getSize(),s=t.subtract(r.min),l=n.subtract(t),c=a.subtract(t),u=Math.atan2(l.y,l.x),h=Math.atan2(c.x,c.y);this._bounds=Fe["latLngBounds"](this._map.layerPointToLatLng(r.min),this._map.layerPointToLatLng(r.max)),Fe["DomUtil"].setPosition(e,r.min),e.style.width=o.x+"px",e.style.height=o.y+"px";var d=this._rawImage.width,m=this._rawImage.height;if(d&&m){var f=t.distanceTo(n)/d*Math.cos(u),p=t.distanceTo(a)/m*Math.cos(h);this._rawImage.style.transformOrigin="0 0",this._rawImage.style.transform="translate("+s.x+"px, "+s.y+"px)skew("+h+"rad, "+u+"rad) scale("+f+", "+p+") "}},reposition:function(e,t,n){this._topLeft=Fe["latLng"](e),this._topRight=Fe["latLng"](t),this._bottomLeft=Fe["latLng"](n),this._reset()},setUrl:function(e){return this._url=e,this._rawImage&&(this._rawImage.src=e),this}});var ut={data:function(){return{parentRef:null,parentMap:null,editLayer:null}},methods:{},mounted:function(){this.parentRef=this.$parent,this.parentMap=this.$parent.getMap(),this.editLayer=L.featureGroup(),this.parentMap.addLayer(this.editLayer)}},ht=n("595b"),dt={data:function(){return{marker:{move:null,num:[]},markerTips:"开始",markerTipsStart:"开始",markerTipsGoon:"绘制",markerTipsEnd:"结束",markerTipsPlohgonEnd:"单击任意节点或双击结束绘制",coordinateArr:[],tempCoordinateArr:[],tempDrawing:null,drawingStatus:"",measureMarker:null}},computed:{coordinateArrLen:function(){return this.coordinateArr.length}},methods:{initDrawShapeStatus:function(){this.handleInitDrawShapeStatus(this.tempDrawing),this.coordinateArr=[],this.tempDrawing=null,this.measureMarker=null,this.drawShapeMore||this.setEditable(!1),this.clearMarker()},onMapClick:function(e){if(this.editable){var t=e.latlng,n=[t.lat,t.lng],a=this.editType;if("rectangle"===a)this.coordinateArrLen>=1?(this.finishDrawRectangle(),this.emitRectangleFinish(this.tempDrawing)):(this.drawMarkerNum(0,t),this.dealDrawRectangle(n),this.emitRectangleStart(this.tempDrawing));else if("polygon"===a){this.dealDrawPolygon(n);var i=this.coordinateArrLen;this.drawMarkerNum(i-1,t),1==i?this.marker.move.setTooltipContent(this.markerTipsGoon):i>3&&this.marker.move.setTooltipContent(this.markerTipsPlohgonEnd)}else"circle"===a?(this.dealDrawCircle(n),this.clearMarker()):"polyline"===a&&this.dealDrawPolyline(n,"click")}},onMapMousemove:function(e){if(this.editable){var t=e.latlng,n=[t.lat,t.lng];if(this.coordinateArr.length>0){var a=this.editType;"rectangle"===a?(this.drawMarker(t),this.dealDrawRectangle(n,"move")):"polygon"===a?(this.drawMarker(t),this.dealDrawPolygon(n,"move")):"circle"===a?(this.drawMarker(t,!1),this.marker.move.setTooltipContent(this.markerTipsEnd),this.dealDrawCircle(n,"move")):"polyline"===a&&(this.drawMarker(t),this.dealDrawPolyline(n,"move"))}else this.drawMarker(t)}},dealDrawRectangle:function(e,t){if("move"===t){this.marker.move.setTooltipContent(this.markerTipsEnd);var n=this.coordinateArr[0]?this.coordinateArr[0]:this.coordinateArr[1],a=[n[0],e[1]],i=[e[0],n[1]];this.drawMarkerNum(1,a),this.drawMarkerNum(2,i)}if(0==this.coordinateArr.length)this.coordinateArr.push(e);else{this.coordinateArr[1]=e;var r=this.coordinateArr;this.tempDrawing?this.tempDrawing.setBounds(r):this.tempDrawing=this.drawRectangle(r)}},drawRectangle:function(e){var t=this.drawStyle;return L.rectangle(e,t).addTo(this.editLayer)},finishDrawRectangle:function(){this.drawLayer=this.tempDrawing,this.initDrawShapeStatus()},dealDrawPolygon:function(e,t){var n=this.coordinateArr;if("move"===t){var a=this.marker.num&&this.marker.num.length;this.coordinateArr[a]=e}else this.coordinateArr.push(e);n=this.coordinateArr,this.tempDrawing?this.tempDrawing.setLatLngs(n):this.tempDrawing=this.drawPolygon(n),this.getMeasure()},drawPolygon:function(e){var t=this.drawStyle;return L.polygon(e,t).addTo(this.editLayer)},finishDrawPolygon:function(){var e=this.coordinateArr;e.pop(),this.tempDrawing.setLatLngs(e),this.drawLayer=this.tempDrawing,this.initDrawShapeStatus()},dealDrawCircle:function(e,t){if("move"==t){var n=this.coordinateArr[0],a=L.latLng(n).distanceTo(e);this.tempDrawing?this.tempDrawing.setRadius(a):this.tempDrawing=this.drawCircle(n,a)}else this.coordinateArrLen>=1?(this.finishDrawCircle(),this.emitRectangleFinish(this.tempDrawing)):0==this.coordinateArr.length&&this.coordinateArr.push(e)},dealDistTwoPoing:function(e){return L.latLng(e).distanceTo(point2)},drawCircle:function(e,t){var n=this.drawStyle;return L.circle(e,{radius:t},n).addTo(this.editLayer)},finishDrawCircle:function(){this.drawLayer=this.tempDrawing,this.initDrawShapeStatus()},dealDrawPolyline:function(e,t){var n=this.coordinateArr;if("move"===t){var a=this.marker.num&&this.marker.num.length;this.coordinateArr[a]=e}else this.coordinateArr.push(e);if(n=this.coordinateArr,this.tempDrawing?this.tempDrawing.setLatLngs(n):this.tempDrawing=this.drawPolyline(n),"click"===t){var i=this.coordinateArrLen;this.drawMarkerNum(i-1,e),1==i?this.marker.move.setTooltipContent(this.markerTipsGoon):i>3&&this.marker.move.setTooltipContent(this.markerTipsPlohgonEnd)}this.getMeasure("length")},drawPolyline:function(e){var t=this.drawStyle;return L.polyline(e,t).addTo(this.editLayer)},finishDrawPolyline:function(){var e=this.coordinateArr;e.pop(),this.tempDrawing.setLatLngs(e),this.drawLayer=this.tempDrawing,this.initDrawShapeStatus()},getMeasure:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"area";if(this.isMeasure&&this.tempDrawing){var t=this.coordinateArr;("area"==e&&t.length>2||"length"==e&&t.length>1)&&this.dealMeasure(e)}},dealMeasure:function(e){var t=this.tempDrawing.getCenter(),n=this.tempDrawing.toGeoJSON(),a=0,i="";if("length"==e){var r=this.coordinateArr;t=r[r.length-1],a=ht["length"](n,{units:"miles"}),a="长度："+a+" m",i="tips-top"}else a=ht["area"](n),a="面积："+a+" ㎡";var o=L.divIcon({className:"my-measure-icon",html:'<span class="tips '+i+'">'+a+"</span>"});this.measureMarker?this.measureMarker.setLatLng(t).setIcon(o):this.measureMarker=L.marker(t,{icon:o}).addTo(this.editLayer)},drawMarker:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.marker.move)this.marker.move.setLatLng(e);else{var a={};n||(a={display:"none"}),this.marker.move=L.marker(e,{icon:this.drawIcon(a),zIndexOffset:99}).bindTooltip(this.markerTips,{permanent:!0,direction:"bottom",offset:L.point(0,9)}).openTooltip().addTo(this.parentMap),this.marker.move.on("dblclick",(function(e){return"polygon"==t.editType&&t.coordinateArrLen>3?t.finishDrawPolygon():"polyline"==t.editType&&t.coordinateArrLen>2&&t.finishDrawPolyline(),!1}))}},drawMarkerNum:function(e,t){var n=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.marker.num[e];i&&i.remove();var r={};a||(r={display:"none"}),i=L.marker(t,{icon:this.drawIcon(r),zIndexOffset:99}).addTo(this.parentMap),this.marker.num[e]=i,this.marker.num[e].on("click",(function(e){return"polygon"==n.editType&&n.coordinateArrLen>3?n.finishDrawPolygon():"polyline"==n.editType&&n.coordinateArrLen>2&&n.finishDrawPolyline(),!1}))},clearMarker:function(){var e=this.marker;e.move&&e.move.remove(),e.num.length>0&&e.num.forEach((function(e){e&&e.remove()})),this.marker.move=null,this.marker.num=[]},drawIcon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={"background-color":"#ffffff",width:"18px",height:"18px",position:"relative",left:"-9px",top:"-9px",display:"block","border-radius":"50%",outline:"none",border:"1px solid #4c7efd"},n=Object.assign({},t,e),a=Object.keys(n),i=a.map((function(e){return e+":"+n[e]+";"}));return i=i.join(""),L.divIcon({className:"my-custom-pin",iconAnchor:[0,0],html:'<span style="'.concat(i,'" />')})}}},mt={mixins:[ut,dt],name:"WlEditLayer",data:function(){return{editable:!1,editTypeArr:["rectangle","polygon","circle","polyline"],editType:"polygon",drawLayer:null,drawShapeMore:!1,isMeasure:!1,drawStyle:{color:"#4c7efd",weight:1}}},methods:{setEditType:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.editTypeArr.includes(e)?(this.editType=e,this.setIsMeasure(t)):alert("请检查您设置的编辑类型")},setEditable:function(e){this.clearMarker(),this.editable=e},getEditLayer:function(){return this.editLayer},getDrawLayer:function(){return this.drawLayer},clearEditLayers:function(){this.editLayer.clearLayers()},fitBounds:function(e){var t=this;this.$nextTick((function(){t.parentMap.fitBounds(e.getBounds())}))},setGeojsonParams:function(){var e,t=(e=L).geoJson.apply(e,arguments);return t.addTo(this.editLayer),t},setImageOverlayRotated:function(e,t,n,a,i){var r=L.latLng(t),o=L.latLng(n),s=L.latLng(a),l=ct(e,r,o,s,i);return l.bringToFront(),l.addTo(this.editLayer),l},setDrawStyle:function(e){this.drawStyle=Object.assign({},this.drawStyle,e)},resetDrawStyle:function(){this.drawStyle={color:"#4c7efd",weight:1}},setIsMeasure:function(e){this.isMeasure=e},handleInitDrawShapeStatus:function(e){var t=e;this.$emit("emitDrawShapeFinish",t)},setDrawShapeMore:function(e){this.drawShapeMore=e},emitRectangleStart:function(e){this.$emit("emitRectangleStart",e)},emitRectangleFinish:function(e){this.$emit("emitRectangleFinish",e)}},mounted:function(){this.parentMap.on("click",this.onMapClick),this.parentMap.on("mousemove",this.onMapMousemove)}},ft=mt,pt=(n("871f"),Object(o["a"])(ft,st,lt,!1,null,null,null)),gt=pt.exports;gt.install=function(e){e.component(gt.name,gt)};var bt=gt,yt=[Xe,ot,bt],vt=function(e){yt.forEach((function(t){e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&vt(window.Vue);var kt={install:vt,WangLeaflet:Xe,WlBaseLayer:ot,WlEditLayer:bt};a["default"].use(we.a),a["default"].component("self-table",Ne),a["default"].use(kt),a["default"].config.productionTip=!1,new a["default"]({router:he,store:pe,render:function(e){return e(c)}}).$mount("#app")},"6b50":function(e,t,n){},"7c55":function(e,t,n){"use strict";n("2395")},"85bc":function(e,t,n){"use strict";n("a637")},"871f":function(e,t,n){"use strict";n("403e")},"896c":function(e,t,n){"use strict";n("1bb1")},"8d91":function(e,t,n){},9266:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("4160"),n("b64b"),n("159b");var a=n("e11e");function i(e,t){return new a["TileLayer"].WMTS(e,t)}a["TileLayer"].WMTS=a["TileLayer"].extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.0.0",layer:"",style:"",tilematrixset:"",format:"image/jpeg"},initialize:function(e,t){this._url=e;var n={},i=Object.keys(t);i.forEach((function(e){n[e.toLowerCase()]=t[e]}));var r=a["extend"]({},this.defaultWmtsParams),o=n.tileSize||this.options.tileSize;for(var s in n.detectRetina&&a["Browser"].retina?r.width=r.height=2*o:r.width=r.height=o,n)r.hasOwnProperty(s)&&"matrixIds"!=s&&(r[s]=n[s]);this.wmtsParams=r,this.matrixIds=t.matrixIds||this.getDefaultMatrix(),a["setOptions"](this,t)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,a["TileLayer"].prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this.options.tileSize,n=e.multiplyBy(t);n.x+=1,n.y-=1;var i=n.add(new a["Point"](t,t)),r=this._tileZoom,o=this._crs.project(this._map.unproject(n,r)),s=this._crs.project(this._map.unproject(i,r)),l=s.x-o.x,c=this.matrixIds[r].identifier,u=c,h=this.matrixIds[r].topLeftCorner.lng,d=this.matrixIds[r].topLeftCorner.lat,m=Math.floor((o.x-h)/l),f=-Math.floor((o.y-d)/l),p=a["Util"].template(this._url,{s:this._getSubdomain(e)});return p+a["Util"].getParamString(this.wmtsParams,p)+"&tilematrix="+u+"&tilerow="+f+"&tilecol="+m},setParams:function(e,t){return a["extend"](this.wmtsParams,e),t||this.redraw(),this},getDefaultMatrix:function(){for(var e=new Array(22),t=0;t<22;t++)e[t]={identifier:1+t,topLeftCorner:new a["LatLng"](90,-180)};return e}})},"9e5e":function(e,t,n){},"9e8e":function(e,t,n){},"9f76":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("4160"),n("b64b"),n("159b");var a=n("9266"),i={skymapVec1:{url:"http://t0.tianditu.gov.cn/vec_c/wmts?tk=3133b000f831d898dc3a8f9bcff6ddf4",opt:{layer:"vec",tileMatrixSet:"c",format:"tiles",style:"default",type:"baseLayer"}},skymapVec2:{url:"http://t0.tianditu.gov.cn/cva_c/wmts?tk=3133b000f831d898dc3a8f9bcff6ddf4",opt:{layer:"cva",tileMatrixSet:"c",format:"tiles",style:"default",type:"baseLayer"}},skymapTopography1:{url:"http://t0.tianditu.gov.cn/ter_c/wmts?tk=3133b000f831d898dc3a8f9bcff6ddf4",opt:{layer:"ter",tileMatrixSet:"c",format:"tiles",style:"default",type:"baseLayer"}},skymapTopography2:{url:"http://t0.tianditu.gov.cn/cta_c/wmts?tk=3133b000f831d898dc3a8f9bcff6ddf4",opt:{layer:"cta",tileMatrixSet:"c",format:"tiles",style:"default",type:"baseLayer"}},skymapImage1:{url:"http://t0.tianditu.gov.cn/img_c/wmts?tk=3133b000f831d898dc3a8f9bcff6ddf4",opt:{layer:"img",tileMatrixSet:"c",format:"tiles",style:"default",type:"baseLayer"}},skymapImage2:{url:"http://t0.tianditu.gov.cn/cia_c/wmts?tk=3133b000f831d898dc3a8f9bcff6ddf4",opt:{layer:"cia",tileMatrixSet:"c",format:"tiles",style:"default",type:"baseLayer"}}},r={};Object.keys(i).forEach((function(e){r[e]=Object(a["a"])(i[e].url,i[e].opt)}))},a637:function(e,t,n){},b475:function(e,t,n){},ca00:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a15b"),n("4d63"),n("ac1f"),n("25f0"),n("5319");var a=function(e,t){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return e}},de16:function(e,t,n){"use strict";n("8d91")}});
//# sourceMappingURL=app.579fb0ba.js.map
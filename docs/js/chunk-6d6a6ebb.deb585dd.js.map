{"version":3,"sources":["webpack:///./src/views/main/map/leaflet/sideBySide/sideBySide.vue?034c","webpack:///./src/views/main/map/leaflet/sideBySide/index.js","webpack:///src/views/main/map/leaflet/sideBySide/sideBySide.vue","webpack:///./src/views/main/map/leaflet/sideBySide/sideBySide.vue?d50e","webpack:///./src/views/main/map/leaflet/sideBySide/sideBySide.vue","webpack:///./node_modules/leaflet-side-by-side/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","ref","staticRenderFns","require","data","name","methods","show","map","$refs","leaflet","getMap","base1","getBaseLayer","base2","getLayers","L","control","sideBySide","addTo","mounted","$nextTick","component","mapWasDragEnabled","mapWasTapEnabled","on","el","types","fn","context","split","forEach","type","DomEvent","off","getRangeEvent","rangeInput","cancelMapDrag","_map","dragging","enabled","tap","disable","uncancelMapDrag","e","_refocusOnMap","enable","asArray","arg","Array","isArray","noop","Control","SideBySide","extend","options","thumbSize","padding","initialize","leftLayers","rightLayers","setLeftLayers","setRightLayers","setOptions","getPosition","rangeValue","_range","value","offset","getSize","x","setPosition","includes","Mixin","Events","remove","container","_container","DomUtil","create","_controlContainer","_divider","range","min","max","step","style","paddingLeft","paddingRight","_addEvents","_updateLayers","_leftLayer","getContainer","clip","_rightLayer","_removeEvents","_leftLayers","_rightLayers","_updateClip","nw","containerPointToLayerPoint","se","clipX","dividerX","left","fire","clipLeft","y","join","clipRight","prevLeft","prevRight","layer","hasLayer","Browser","touch","module","exports"],"mappings":"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","file":"assets/js/chunk-6d6a6ebb.deb585dd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"500px\"},attrs:{\"id\":\"test\"}},[_c('wang-leaflet',{ref:\"leaflet\"},[_c('wl-base-layer',{ref:\"base1\",attrs:{\"defaultTileServe\":['skymapImage']}}),_c('wl-base-layer',{ref:\"base2\",attrs:{\"defaultTileServe\":['skymapTopography']}}),_c('wl-edit-layer',{ref:\"edit1\"}),_c('wl-edit-layer',{ref:\"edit2\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import L from \"leaflet\";\r\nimport \"leaflet-side-by-side\";\r\nvar WKT = require(\"terraformer-wkt-parser\");\r\nimport WMTS from '@/components/leafletMap/map/WMTS.js';\r\nimport { mapBaseLayerOption } from '@/components/leafletMap/map/provideBaseLayer.js';\r\n\r\n// import { mapConfig, mapBaseLayerOption } from \"../map/provideBaseLayer.js\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            name: \"test...\",\r\n        };\r\n    },\r\n    methods: {\r\n        show() {\r\n            let map = this.$refs.leaflet.getMap();\r\n            let base1 = this.$refs.base1.getBaseLayer();\r\n            let base2 = this.$refs.base2.getBaseLayer();\r\n\r\n            base1 = base1.getLayers();\r\n            base2 = base2.getLayers();\r\n            L.control.sideBySide(base1[0], base2[0]).addTo(map);\r\n        },\r\n    },\r\n    mounted() {\r\n        this.$nextTick(() => {\r\n            this.show();\r\n        });\r\n    },\r\n};","<template>\r\n    <div style=\"height:500px;\" id=\"test\">\r\n        <wang-leaflet ref=\"leaflet\">\r\n            <wl-base-layer ref=\"base1\" :defaultTileServe=\"['skymapImage']\"></wl-base-layer>\r\n            <wl-base-layer ref=\"base2\" :defaultTileServe=\"['skymapTopography']\"></wl-base-layer>\r\n            <wl-edit-layer ref=\"edit1\"></wl-edit-layer>\r\n            <wl-edit-layer ref=\"edit2\"></wl-edit-layer>\r\n        </wang-leaflet>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import _script from \"./index.js\";\r\n    export default _script;\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBySide.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sideBySide.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sideBySide.vue?vue&type=template&id=b456d40e&scoped=true&\"\nimport script from \"./sideBySide.vue?vue&type=script&lang=js&\"\nexport * from \"./sideBySide.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b456d40e\",\n  null\n  \n)\n\nexport default component.exports","var L = require('leaflet')\nrequire('./layout.css')\nrequire('./range.css')\n\nvar mapWasDragEnabled\nvar mapWasTapEnabled\n\n// Leaflet v0.7 backwards compatibility\nfunction on (el, types, fn, context) {\n  types.split(' ').forEach(function (type) {\n    L.DomEvent.on(el, type, fn, context)\n  })\n}\n\n// Leaflet v0.7 backwards compatibility\nfunction off (el, types, fn, context) {\n  types.split(' ').forEach(function (type) {\n    L.DomEvent.off(el, type, fn, context)\n  })\n}\n\nfunction getRangeEvent (rangeInput) {\n  return 'oninput' in rangeInput ? 'input' : 'change'\n}\n\nfunction cancelMapDrag () {\n  mapWasDragEnabled = this._map.dragging.enabled()\n  mapWasTapEnabled = this._map.tap && this._map.tap.enabled()\n  this._map.dragging.disable()\n  this._map.tap && this._map.tap.disable()\n}\n\nfunction uncancelMapDrag (e) {\n  this._refocusOnMap(e)\n  if (mapWasDragEnabled) {\n    this._map.dragging.enable()\n  }\n  if (mapWasTapEnabled) {\n    this._map.tap.enable()\n  }\n}\n\n// convert arg to an array - returns empty array if arg is undefined\nfunction asArray (arg) {\n  return (arg === 'undefined') ? [] : Array.isArray(arg) ? arg : [arg]\n}\n\nfunction noop () {\n  return\n}\n\nL.Control.SideBySide = L.Control.extend({\n  options: {\n    thumbSize: 42,\n    padding: 0\n  },\n\n  initialize: function (leftLayers, rightLayers, options) {\n    this.setLeftLayers(leftLayers)\n    this.setRightLayers(rightLayers)\n    L.setOptions(this, options)\n  },\n\n  getPosition: function () {\n    var rangeValue = this._range.value\n    var offset = (0.5 - rangeValue) * (2 * this.options.padding + this.options.thumbSize)\n    return this._map.getSize().x * rangeValue + offset\n  },\n\n  setPosition: noop,\n\n  includes: L.Mixin.Events,\n\n  addTo: function (map) {\n    this.remove()\n    this._map = map\n\n    var container = this._container = L.DomUtil.create('div', 'leaflet-sbs', map._controlContainer)\n\n    this._divider = L.DomUtil.create('div', 'leaflet-sbs-divider', container)\n    var range = this._range = L.DomUtil.create('input', 'leaflet-sbs-range', container)\n    range.type = 'range'\n    range.min = 0\n    range.max = 1\n    range.step = 'any'\n    range.value = 0.5\n    range.style.paddingLeft = range.style.paddingRight = this.options.padding + 'px'\n    this._addEvents()\n    this._updateLayers()\n    return this\n  },\n\n  remove: function () {\n    if (!this._map) {\n      return this\n    }\n    if (this._leftLayer) {\n      this._leftLayer.getContainer().style.clip = ''\n    }\n    if (this._rightLayer) {\n      this._rightLayer.getContainer().style.clip = ''\n    }\n    this._removeEvents()\n    L.DomUtil.remove(this._container)\n\n    this._map = null\n\n    return this\n  },\n\n  setLeftLayers: function (leftLayers) {\n    this._leftLayers = asArray(leftLayers)\n    this._updateLayers()\n    return this\n  },\n\n  setRightLayers: function (rightLayers) {\n    this._rightLayers = asArray(rightLayers)\n    this._updateLayers()\n    return this\n  },\n\n  _updateClip: function () {\n    var map = this._map\n    var nw = map.containerPointToLayerPoint([0, 0])\n    var se = map.containerPointToLayerPoint(map.getSize())\n    var clipX = nw.x + this.getPosition()\n    var dividerX = this.getPosition()\n\n    this._divider.style.left = dividerX + 'px'\n    this.fire('dividermove', {x: dividerX})\n    var clipLeft = 'rect(' + [nw.y, clipX, se.y, nw.x].join('px,') + 'px)'\n    var clipRight = 'rect(' + [nw.y, se.x, se.y, clipX].join('px,') + 'px)'\n    if (this._leftLayer) {\n      this._leftLayer.getContainer().style.clip = clipLeft\n    }\n    if (this._rightLayer) {\n      this._rightLayer.getContainer().style.clip = clipRight\n    }\n  },\n\n  _updateLayers: function () {\n    if (!this._map) {\n      return this\n    }\n    var prevLeft = this._leftLayer\n    var prevRight = this._rightLayer\n    this._leftLayer = this._rightLayer = null\n    this._leftLayers.forEach(function (layer) {\n      if (this._map.hasLayer(layer)) {\n        this._leftLayer = layer\n      }\n    }, this)\n    this._rightLayers.forEach(function (layer) {\n      if (this._map.hasLayer(layer)) {\n        this._rightLayer = layer\n      }\n    }, this)\n    if (prevLeft !== this._leftLayer) {\n      prevLeft && this.fire('leftlayerremove', {layer: prevLeft})\n      this._leftLayer && this.fire('leftlayeradd', {layer: this._leftLayer})\n    }\n    if (prevRight !== this._rightLayer) {\n      prevRight && this.fire('rightlayerremove', {layer: prevRight})\n      this._rightLayer && this.fire('rightlayeradd', {layer: this._rightLayer})\n    }\n    this._updateClip()\n  },\n\n  _addEvents: function () {\n    var range = this._range\n    var map = this._map\n    if (!map || !range) return\n    map.on('move', this._updateClip, this)\n    map.on('layeradd layerremove', this._updateLayers, this)\n    on(range, getRangeEvent(range), this._updateClip, this)\n    on(range, L.Browser.touch ? 'touchstart' : 'mousedown', cancelMapDrag, this)\n    on(range, L.Browser.touch ? 'touchend' : 'mouseup', uncancelMapDrag, this)\n  },\n\n  _removeEvents: function () {\n    var range = this._range\n    var map = this._map\n    if (range) {\n      off(range, getRangeEvent(range), this._updateClip, this)\n      off(range, L.Browser.touch ? 'touchstart' : 'mousedown', cancelMapDrag, this)\n      off(range, L.Browser.touch ? 'touchend' : 'mouseup', uncancelMapDrag, this)\n    }\n    if (map) {\n      map.off('layeradd layerremove', this._updateLayers, this)\n      map.off('move', this._updateClip, this)\n    }\n  }\n})\n\nL.control.sideBySide = function (leftLayers, rightLayers, options) {\n  return new L.Control.SideBySide(leftLayers, rightLayers, options)\n}\n\nmodule.exports = L.Control.SideBySide\n"],"sourceRoot":""}
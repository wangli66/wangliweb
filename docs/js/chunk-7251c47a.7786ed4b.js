(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7251c47a"],{"565f":function(t,e,i){"use strict";i("a41b")},"92ba":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"imageContainer",staticClass:"single-image-container",style:t.selfStyle},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showOperate,expression:"showOperate"}],staticClass:"detail-operate"},[i("el-link",{attrs:{underline:!1},on:{click:t.handFullScreen}},[i("i",{class:t.fullType?"el-icon-full-screen":"el-icon-c-scale-to-original"}),t._v(t._s(t.fullName)+" ")]),i("el-divider",{attrs:{direction:"vertical"}}),i("el-link",{attrs:{underline:!1,disabled:t.zoomNum==t.zoomMax},on:{click:t.handZoomIn}},[i("i",{staticClass:"el-icon-zoom-in"}),t._v("放大 ")]),i("el-divider",{attrs:{direction:"vertical"}}),i("el-link",{attrs:{underline:!1,disabled:t.zoomNum==t.zoomMin},on:{click:t.handZoomOut}},[i("i",{staticClass:"el-icon-zoom-out"}),t._v("缩小 ")])],1),i("div",{staticClass:"image-wrap"},[i("el-image",{ref:"image",class:{"full-w":t.fullType},style:{transform:"scale("+t.zoomNum+") ",width:t.imgW,height:t.imgH,left:t.left+"px",top:t.top+"px"},attrs:{src:t.src,draggable:"false"},on:{load:t.handleLoad,error:t.handleError}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),i("span",{staticClass:"dot"},[t._v("...")])])])],1)])},o=[],s=function(t,e){var i=function(t){var i=t.type;return"DOMMouseScroll"!=i&&"mousewheel"!=i||(t.delta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),t.srcElement&&!t.target&&(t.target=t.srcElement),t.preventDefault||t.returnValue===e||(t.preventDefault=function(){t.returnValue=!1}),t};return t.addEventListener?function(t,n,o,s){"mousewheel"===n&&document.mozFullScreen!==e&&(n="DOMMouseScroll"),t.addEventListener(n,(function(t){o.call(this,i(t))}),s||!1)}:t.attachEvent?function(e,n,o,s){e.attachEvent("on"+n,(function(n){n=n||t.event,o.call(e,i(n))}))}:function(){}}(window),l=s,a={props:{src:{type:String,default:"/test.png"},selfStyle:{default:function(){return{width:"100%",height:"300px",border:"1px solid #ccc",margin:"0 auto"}}},zoomMax:{default:3},zoomMin:{default:.2}},data:function(){return{showOperate:!0,fullType:!1,zoomNum:1,maxHeight:null,left:0,top:0,el:null,dragging:!1,mouseClickPo:null,startObj:null}},watch:{src:function(t){t&&this.initOperate(!0)}},computed:{fullName:function(){return this.fullType?"全屏":"初始"},imgW:function(){var t="";return this.fullType&&(t="100%"),t},imgH:function(){return this.fullType?"":this.maxHeight+"px"}},methods:{handFullScreen:function(){this.fullType=!this.fullType,this.initOperate()},handZoomIn:function(){this.zoomFn("plus")},handZoomOut:function(){this.zoomFn("reduce")},zoomFn:function(t){var e=this.zoomNum;"plus"==t?(e+=.1,e=e>this.zoomMax?this.zoomMax:e):"reduce"==t&&(e-=.1,e=e<this.zoomMin?this.zoomMin:e),this.zoomNum=e},initOperate:function(t){1==t&&(this.fullType=!1),this.left=0,this.top=0,this.zoomNum=1},initHeight:function(){var t=this;this.maxHeight=this.$refs.imageContainer.offsetHeight,this.maxHeight||setTimeout((function(){t.initHeight()}),800)},setMouseClickPo:function(t){var e=t.target.getBoundingClientRect(),i=t.pageX,n=t.pageY;this.mouseClickPo={mouseX:i,mouseY:n,xL:e.left,xR:e.right,yT:e.top,yB:e.bottom,left:this.left,top:this.top}},mousedown:function(t){t.stopPropagation&&t.stopPropagation(),this.dragging=!0,this.setMouseClickPo(t),document.documentElement.addEventListener("mousemove",this.move),document.documentElement.addEventListener("mouseup",this.up)},move:function(t){if(this.dragging){var e=this.mouseClickPo,i=this.startObj,n=t.pageX,o=t.pageY;n<=i.right&&n>=i.left&&(this.left=e.left+(n-e.mouseX)),o>=i.top&&o<=i.bottom&&(this.top=e.top+(o-e.mouseY))}},up:function(t){this.dragging=!1,document.documentElement.removeEventListener("mousemove",this.move),document.documentElement.removeEventListener("mouseup",this.up)},handleLoad:function(t){this.showOperate=!0},handleError:function(t){this.showOperate=!1}},mounted:function(){this.initHeight(),window.addEventListener("resize",this.initHeight);var t=this;l(this.$refs.imageContainer,"mousewheel",(function(e){e.delta<0?t.handZoomIn():t.handZoomOut()}));var e=this.$refs.imageContainer;e&&(this.el=e,this.startObj=this.el.getBoundingClientRect(),e.addEventListener("mousedown",this.mousedown,!1))},beforeDestory:function(){window.removeEventListener("resize",this.initHeight)}},r=a,u=r,c=(i("565f"),i("2877")),m=Object(c["a"])(u,n,o,!1,null,null,null);e["default"]=m.exports},a41b:function(t,e,i){}}]);
//# sourceMappingURL=chunk-7251c47a.7786ed4b.js.map
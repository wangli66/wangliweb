(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34f7ae9a"],{"67a7":function(e,t,n){},"6ae3":function(e,t,n){"use strict";n("67a7")},"7b49":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("pre",{staticClass:"pre-detail"},[e._v("        使用说明: 属性：\n                src：string,图片地址\n                selfStyle：object,自定义样式\n                zoomMax：number,缩放最大值\n                zoomMin：number,缩放最小值\n    ")]),n("single-image")],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"imageContainer",staticClass:"single-image-container",style:e.selfStyle},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showOperate,expression:"showOperate"}],staticClass:"detail-operate"},[n("el-link",{attrs:{underline:!1},on:{click:e.handFullScreen}},[n("i",{class:e.fullType?"el-icon-full-screen":"el-icon-c-scale-to-original"}),e._v(e._s(e.fullName)+" ")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-link",{attrs:{underline:!1,disabled:e.zoomNum==e.zoomMax},on:{click:e.handZoomIn}},[n("i",{staticClass:"el-icon-zoom-in"}),e._v("放大 ")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-link",{attrs:{underline:!1,disabled:e.zoomNum==e.zoomMin},on:{click:e.handZoomOut}},[n("i",{staticClass:"el-icon-zoom-out"}),e._v("缩小 ")])],1),n("div",{staticClass:"image-wrap"},[n("el-image",{ref:"image",class:{"full-w":e.fullType},style:{transform:"scale("+e.zoomNum+") ",width:e.imgW,height:e.imgH,left:e.left+"px",top:e.top+"px"},attrs:{src:e.src,draggable:"false"},on:{load:e.handleLoad,error:e.handleError}},[n("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),n("span",{staticClass:"dot"},[e._v("...")])])])],1)])},a=[],l=function(e,t){var n=function(e){var n=e.type;return"DOMMouseScroll"!=n&&"mousewheel"!=n||(e.delta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3),e.srcElement&&!e.target&&(e.target=e.srcElement),e.preventDefault||e.returnValue===t||(e.preventDefault=function(){e.returnValue=!1}),e};return e.addEventListener?function(e,i,o,s){"mousewheel"===i&&document.mozFullScreen!==t&&(i="DOMMouseScroll"),e.addEventListener(i,(function(e){o.call(this,n(e))}),s||!1)}:e.attachEvent?function(t,i,o,s){t.attachEvent("on"+i,(function(i){i=i||e.event,o.call(t,n(i))}))}:function(){}}(window),r=l,u={props:{src:{type:String,default:"/test.png"},selfStyle:{default:function(){return{width:"100%",height:"300px",border:"1px solid #ccc",margin:"0 auto"}}},zoomMax:{default:3},zoomMin:{default:.2}},data:function(){return{showOperate:!0,fullType:!1,zoomNum:1,maxHeight:null,left:0,top:0,el:null,dragging:!1,mouseClickPo:null,startObj:null}},watch:{src:function(e){e&&this.initOperate(!0)}},computed:{fullName:function(){return this.fullType?"全屏":"初始"},imgW:function(){var e="";return this.fullType&&(e="100%"),e},imgH:function(){return this.fullType?"":this.maxHeight+"px"}},methods:{handFullScreen:function(){this.fullType=!this.fullType,this.initOperate()},handZoomIn:function(){this.zoomFn("plus")},handZoomOut:function(){this.zoomFn("reduce")},zoomFn:function(e){var t=this.zoomNum;"plus"==e?(t+=.1,t=t>this.zoomMax?this.zoomMax:t):"reduce"==e&&(t-=.1,t=t<this.zoomMin?this.zoomMin:t),this.zoomNum=t},initOperate:function(e){1==e&&(this.fullType=!1),this.left=0,this.top=0,this.zoomNum=1},initHeight:function(){var e=this;this.maxHeight=this.$refs.imageContainer.offsetHeight,this.maxHeight||setTimeout((function(){e.initHeight()}),800)},setMouseClickPo:function(e){var t=e.target.getBoundingClientRect(),n=e.pageX,i=e.pageY;this.mouseClickPo={mouseX:n,mouseY:i,xL:t.left,xR:t.right,yT:t.top,yB:t.bottom,left:this.left,top:this.top}},mousedown:function(e){e.stopPropagation&&e.stopPropagation(),this.dragging=!0,this.startObj=this.el.getBoundingClientRect(),this.setMouseClickPo(e),document.documentElement.addEventListener("mousemove",this.move),document.documentElement.addEventListener("mouseup",this.up)},move:function(e){if(this.dragging){var t=this.mouseClickPo,n=this.startObj,i=e.pageX,o=e.pageY;i<=n.right&&i>=n.left&&(this.left=t.left+(i-t.mouseX)),o>=n.top&&o<=n.bottom&&(this.top=t.top+(o-t.mouseY))}},up:function(e){this.dragging=!1,document.documentElement.removeEventListener("mousemove",this.move),document.documentElement.removeEventListener("mouseup",this.up)},handleLoad:function(e){this.showOperate=!0},handleError:function(e){this.showOperate=!1}},mounted:function(){this.initHeight(),window.addEventListener("resize",this.initHeight);var e=this;r(this.$refs.imageContainer,"mousewheel",(function(t){t.delta<0?e.handZoomIn():e.handZoomOut()}));var t=this.$refs.imageContainer;t&&(this.el=t,this.startObj=this.el.getBoundingClientRect(),t.addEventListener("mousedown",this.mousedown,!1))},beforeDestory:function(){window.removeEventListener("resize",this.initHeight)}},c=u,m=c,h=(n("6ae3"),n("2877")),d=Object(h["a"])(m,s,a,!1,null,null,null),f=d.exports,p={components:{singleImage:f},data:function(){return{name:"name"}}},g=p,v=g,w=(n("ebf6"),Object(h["a"])(v,i,o,!1,null,"27328692",null));t["default"]=w.exports},ebf6:function(e,t,n){"use strict";n("eda9")},eda9:function(e,t,n){}}]);
//# sourceMappingURL=chunk-34f7ae9a.ca6c0fc7.js.map
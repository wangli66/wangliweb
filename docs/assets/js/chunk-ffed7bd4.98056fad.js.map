{"version":3,"sources":["webpack:///./node_modules/terraformer-wkt-parser/terraformer-wkt-parser.js","webpack:///./node_modules/terraformer/terraformer.js"],"names":["root","factory","module","exports","navigator","Terraformer","Error","WKT","this","parser","trace","yy","symbols_","terminals_","2","5","12","14","17","18","19","20","21","22","23","28","29","30","31","32","productions_","performAction","yytext","yyleng","yylineno","yystate","$","_$","$0","length","PointArray","Number","addPoint","addRing","RingList","Ring","data","z","m","addPolygon","PolygonList","toJSON","table","3","4","6","7","8","9","10","1","11","13","24","27","15","16","25","26","defaultActions","34","39","44","49","83","89","95","101","105","109","117","118","119","122","123","124","127","128","129","130","131","132","133","134","135","138","139","140","parseError","str","hash","parse","input","self","stack","vstack","lstack","recovering","lexer","setInput","yylloc","yyloc","push","ranges","options","lex","token","symbol","preErrorSymbol","state","action","r","p","len","newState","expected","yyval","errStr","showPosition","join","text","match","line","loc","Array","first_line","last_line","first_column","last_column","range","call","slice","EOF","_input","_more","_less","done","matched","conditionStack","offset","ch","lines","unput","split","substr","oldLines","more","less","n","pastInput","past","replace","upcomingInput","next","pre","c","tempMatch","index","rules","_currentRules","i","flex","matches","begin","condition","popState","pop","conditions","topState","pushState","yy_","$avoiding_name_collisions","YY_START","Parser","prototype","point","type","ring","polygon","element","res","err","Primitive","arrayToRing","arr","parts","ret","pointToWKTPoint","primitive","undefined","coordinates","properties","lineStringToWKTLineString","polygonToWKTPolygon","multiPointToWKTMultiPoint","multiLineStringToWKTMultiLineString","multiPolygonToWKTMultiPolygon","inner","it","convert","geometries","concat","window","EarthRadius","DegreesPerRadian","RadiansPerDegree","MercatorCRS","GeographicCRS","isArray","obj","Object","toString","warn","apply","arguments","console","extend","destination","source","k","hasOwnProperty","calculateBounds","geojson","calculateBoundsFromArray","calculateBoundsFromNestedArrays","calculateBoundsFromNestedArrayOfArrays","geometry","calculateBoundsForFeatureCollection","calculateBoundsForGeometryCollection","array","x1","x2","y1","y2","j","lonlat","lon","lat","innerinner","featureCollection","extent","extents","features","geometryCollection","calculateEnvelope","bounds","x","y","w","Math","abs","h","radToDeg","rad","degToRad","deg","eachPosition","func","positionToGeographic","position","floor","PI","atan","exp","positionToMercator","lng","max","min","log","sin","applyConverter","converter","noCrs","f","g","crs","toMercator","toGeographic","cmp","a","b","compSort","p1","p2","turn","q","euclideanDistance","dx","dy","nextHullPoint","points","t","convexHull","hull","sort","isConvex","ltz","p3","v","coordinatesContainPoint","contains","l","polygonContainsPoint","edgeIntersectsEdge","a1","a2","b1","b2","ua_t","ub_t","u_b","ua","ub","isNumber","isNaN","parseFloat","isFinite","arraysIntersectArrays","closedPolygon","outer","pointsEqual","coordinatesEqual","na","nb","excludeFromJSON","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Feature","FeatureCollection","GeometryCollection","args","createCircle","center","radius","interpolate","mercatorPosition","steps","radians","cos","Circle","envelope","bbox","key","indexOf","within","linestring","ls","mpoly","intersects","constructor","forEach","insertPoint","splice","removePoint","remove","get","addVertex","insertVertex","removeVertex","close","hasHoles","holes","id","found","feature","recalculate","output","Tools"],"mappings":"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","file":"assets/js/chunk-ffed7bd4.98056fad.js","sourcesContent":["(function (root, factory) {\n\n  // Node.\n  if(typeof module === 'object' && typeof module.exports === 'object') {\n    exports = module.exports = factory(require(\"terraformer\"));\n  } else if(typeof navigator === \"object\") {\n    // Browser Global.\n    if (!root.Terraformer){\n      throw new Error(\"Terraformer.WKT requires the core Terraformer library. http://github.com/esri/terraformer\")\n    }\n    root.Terraformer.WKT = factory(root.Terraformer);\n  }\n\n}(this, function(Terraformer) {\n  var exports = { };\n\n  /* Jison generated parser */\nvar parser = (function(){\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"expressions\":3,\"point\":4,\"EOF\":5,\"linestring\":6,\"polygon\":7,\"multipoint\":8,\"multilinestring\":9,\"multipolygon\":10,\"coordinate\":11,\"DOUBLE_TOK\":12,\"ptarray\":13,\"COMMA\":14,\"ring_list\":15,\"ring\":16,\"(\":17,\")\":18,\"POINT\":19,\"Z\":20,\"ZM\":21,\"M\":22,\"EMPTY\":23,\"point_untagged\":24,\"polygon_list\":25,\"polygon_untagged\":26,\"point_list\":27,\"LINESTRING\":28,\"POLYGON\":29,\"MULTIPOINT\":30,\"MULTILINESTRING\":31,\"MULTIPOLYGON\":32,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"EOF\",12:\"DOUBLE_TOK\",14:\"COMMA\",17:\"(\",18:\")\",19:\"POINT\",20:\"Z\",21:\"ZM\",22:\"M\",23:\"EMPTY\",28:\"LINESTRING\",29:\"POLYGON\",30:\"MULTIPOINT\",31:\"MULTILINESTRING\",32:\"MULTIPOLYGON\"},\nproductions_: [0,[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[11,2],[11,3],[11,4],[13,3],[13,1],[15,3],[15,1],[16,3],[4,4],[4,5],[4,5],[4,5],[4,2],[24,1],[24,3],[25,3],[25,1],[26,3],[27,3],[27,1],[6,4],[6,5],[6,5],[6,5],[6,2],[7,4],[7,5],[7,5],[7,5],[7,2],[8,4],[8,5],[8,5],[8,5],[8,2],[9,4],[9,5],[9,5],[9,5],[9,2],[10,4],[10,5],[10,5],[10,5],[10,2]],\nperformAction: function anonymous(yytext,yyleng,yylineno,yy,yystate,$,_$\n) {\n\nvar $0 = $.length - 1;\nswitch (yystate) {\ncase 1: return $[$0-1]; \nbreak;\ncase 2: return $[$0-1]; \nbreak;\ncase 3: return $[$0-1]; \nbreak;\ncase 4: return $[$0-1]; \nbreak;\ncase 5: return $[$0-1]; \nbreak;\ncase 6: return $[$0-1]; \nbreak;\ncase 7: this.$ = new PointArray([ Number($[$0-1]), Number($[$0]) ]); \nbreak;\ncase 8: this.$ = new PointArray([ Number($[$0-2]), Number($[$0-1]), Number($[$0]) ]); \nbreak;\ncase 9: this.$ = new PointArray([ Number($[$0-3]), Number($[$0-2]), Number($[$0-1]), Number($[$0]) ]); \nbreak;\ncase 10: this.$ = $[$0-2].addPoint($[$0]); \nbreak;\ncase 11: this.$ = $[$0]; \nbreak;\ncase 12: this.$ = $[$0-2].addRing($[$0]); \nbreak;\ncase 13: this.$ = new RingList($[$0]); \nbreak;\ncase 14: this.$ = new Ring($[$0-1]); \nbreak;\ncase 15: this.$ = { \"type\": \"Point\", \"coordinates\": $[$0-1].data[0] }; \nbreak;\ncase 16: this.$ = { \"type\": \"Point\", \"coordinates\": $[$0-1].data[0], \"properties\": { z: true } }; \nbreak;\ncase 17: this.$ = { \"type\": \"Point\", \"coordinates\": $[$0-1].data[0], \"properties\": { z: true, m: true } }; \nbreak;\ncase 18: this.$ = { \"type\": \"Point\", \"coordinates\": $[$0-1].data[0], \"properties\": { m: true } }; \nbreak;\ncase 19: this.$ = { \"type\": \"Point\", \"coordinates\": [ ] }; \nbreak;\ncase 20: this.$ = $[$0]; \nbreak;\ncase 21: this.$ = $[$0-1]; \nbreak;\ncase 22: this.$ = $[$0-2].addPolygon($[$0]); \nbreak;\ncase 23: this.$ = new PolygonList($[$0]); \nbreak;\ncase 24: this.$ = $[$0-1]; \nbreak;\ncase 25: this.$ = $[$0-2].addPoint($[$0]); \nbreak;\ncase 26: this.$ = $[$0]; \nbreak;\ncase 27: this.$ = { \"type\": \"LineString\", \"coordinates\": $[$0-1].data }; \nbreak;\ncase 28: this.$ = { \"type\": \"LineString\", \"coordinates\": $[$0-1].data, \"properties\": { z: true } }; \nbreak;\ncase 29: this.$ = { \"type\": \"LineString\", \"coordinates\": $[$0-1].data, \"properties\": { m: true } }; \nbreak;\ncase 30: this.$ = { \"type\": \"LineString\", \"coordinates\": $[$0-1].data, \"properties\": { z: true, m: true } }; \nbreak;\ncase 31: this.$ = { \"type\": \"LineString\", \"coordinates\": [ ] }; \nbreak;\ncase 32: this.$ = { \"type\": \"Polygon\", \"coordinates\": $[$0-1].toJSON() }; \nbreak;\ncase 33: this.$ = { \"type\": \"Polygon\", \"coordinates\": $[$0-1].toJSON(), \"properties\": { z: true } }; \nbreak;\ncase 34: this.$ = { \"type\": \"Polygon\", \"coordinates\": $[$0-1].toJSON(), \"properties\": { m: true } }; \nbreak;\ncase 35: this.$ = { \"type\": \"Polygon\", \"coordinates\": $[$0-1].toJSON(), \"properties\": { z: true, m: true } }; \nbreak;\ncase 36: this.$ = { \"type\": \"Polygon\", \"coordinates\": [ ] }; \nbreak;\ncase 37: this.$ = { \"type\": \"MultiPoint\", \"coordinates\": $[$0-1].data }; \nbreak;\ncase 38: this.$ = { \"type\": \"MultiPoint\", \"coordinates\": $[$0-1].data, \"properties\": { z: true } }; \nbreak;\ncase 39: this.$ = { \"type\": \"MultiPoint\", \"coordinates\": $[$0-1].data, \"properties\": { m: true } }; \nbreak;\ncase 40: this.$ = { \"type\": \"MultiPoint\", \"coordinates\": $[$0-1].data, \"properties\": { z: true, m: true } }; \nbreak;\ncase 41: this.$ = { \"type\": \"MultiPoint\", \"coordinates\": [ ] } \nbreak;\ncase 42: this.$ = { \"type\": \"MultiLineString\", \"coordinates\": $[$0-1].toJSON() }; \nbreak;\ncase 43: this.$ = { \"type\": \"MultiLineString\", \"coordinates\": $[$0-1].toJSON(), \"properties\": { z: true } }; \nbreak;\ncase 44: this.$ = { \"type\": \"MultiLineString\", \"coordinates\": $[$0-1].toJSON(), \"properties\": { m: true } }; \nbreak;\ncase 45: this.$ = { \"type\": \"MultiLineString\", \"coordinates\": $[$0-1].toJSON(), \"properties\": { z: true, m: true } }; \nbreak;\ncase 46: this.$ = { \"type\": \"MultiLineString\", \"coordinates\": [ ] }; \nbreak;\ncase 47: this.$ = { \"type\": \"MultiPolygon\", \"coordinates\": $[$0-1].toJSON() }; \nbreak;\ncase 48: this.$ = { \"type\": \"MultiPolygon\", \"coordinates\": $[$0-1].toJSON(), \"properties\": { z: true } }; \nbreak;\ncase 49: this.$ = { \"type\": \"MultiPolygon\", \"coordinates\": $[$0-1].toJSON(), \"properties\": { m: true } }; \nbreak;\ncase 50: this.$ = { \"type\": \"MultiPolygon\", \"coordinates\": $[$0-1].toJSON(), \"properties\": { z: true, m: true } }; \nbreak;\ncase 51: this.$ = { \"type\": \"MultiPolygon\", \"coordinates\": [ ] }; \nbreak;\n}\n},\ntable: [{3:1,4:2,6:3,7:4,8:5,9:6,10:7,19:[1,8],28:[1,9],29:[1,10],30:[1,11],31:[1,12],32:[1,13]},{1:[3]},{5:[1,14]},{5:[1,15]},{5:[1,16]},{5:[1,17]},{5:[1,18]},{5:[1,19]},{17:[1,20],20:[1,21],21:[1,22],22:[1,23],23:[1,24]},{17:[1,25],20:[1,26],21:[1,28],22:[1,27],23:[1,29]},{17:[1,30],20:[1,31],21:[1,33],22:[1,32],23:[1,34]},{17:[1,35],20:[1,36],21:[1,38],22:[1,37],23:[1,39]},{17:[1,40],20:[1,41],21:[1,43],22:[1,42],23:[1,44]},{17:[1,45],20:[1,46],21:[1,48],22:[1,47],23:[1,49]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{11:51,12:[1,52],13:50},{17:[1,53]},{17:[1,54]},{17:[1,55]},{5:[2,19]},{11:58,12:[1,52],17:[1,59],24:57,27:56},{17:[1,60]},{17:[1,61]},{17:[1,62]},{5:[2,31]},{15:63,16:64,17:[1,65]},{17:[1,66]},{17:[1,67]},{17:[1,68]},{5:[2,36]},{11:58,12:[1,52],17:[1,59],24:57,27:69},{17:[1,70]},{17:[1,71]},{17:[1,72]},{5:[2,41]},{15:73,16:64,17:[1,65]},{17:[1,74]},{17:[1,75]},{17:[1,76]},{5:[2,46]},{17:[1,79],25:77,26:78},{17:[1,80]},{17:[1,81]},{17:[1,82]},{5:[2,51]},{14:[1,84],18:[1,83]},{14:[2,11],18:[2,11]},{12:[1,85]},{11:51,12:[1,52],13:86},{11:51,12:[1,52],13:87},{11:51,12:[1,52],13:88},{14:[1,90],18:[1,89]},{14:[2,26],18:[2,26]},{14:[2,20],18:[2,20]},{11:91,12:[1,52]},{11:58,12:[1,52],17:[1,59],24:57,27:92},{11:58,12:[1,52],17:[1,59],24:57,27:93},{11:58,12:[1,52],17:[1,59],24:57,27:94},{14:[1,96],18:[1,95]},{14:[2,13],18:[2,13]},{11:51,12:[1,52],13:97},{15:98,16:64,17:[1,65]},{15:99,16:64,17:[1,65]},{15:100,16:64,17:[1,65]},{14:[1,90],18:[1,101]},{11:58,12:[1,52],17:[1,59],24:57,27:102},{11:58,12:[1,52],17:[1,59],24:57,27:103},{11:58,12:[1,52],17:[1,59],24:57,27:104},{14:[1,96],18:[1,105]},{15:106,16:64,17:[1,65]},{15:107,16:64,17:[1,65]},{15:108,16:64,17:[1,65]},{14:[1,110],18:[1,109]},{14:[2,23],18:[2,23]},{15:111,16:64,17:[1,65]},{17:[1,79],25:112,26:78},{17:[1,79],25:113,26:78},{17:[1,79],25:114,26:78},{5:[2,15]},{11:115,12:[1,52]},{12:[1,116],14:[2,7],18:[2,7]},{14:[1,84],18:[1,117]},{14:[1,84],18:[1,118]},{14:[1,84],18:[1,119]},{5:[2,27]},{11:58,12:[1,52],17:[1,59],24:120},{18:[1,121]},{14:[1,90],18:[1,122]},{14:[1,90],18:[1,123]},{14:[1,90],18:[1,124]},{5:[2,32]},{16:125,17:[1,65]},{14:[1,84],18:[1,126]},{14:[1,96],18:[1,127]},{14:[1,96],18:[1,128]},{14:[1,96],18:[1,129]},{5:[2,37]},{14:[1,90],18:[1,130]},{14:[1,90],18:[1,131]},{14:[1,90],18:[1,132]},{5:[2,42]},{14:[1,96],18:[1,133]},{14:[1,96],18:[1,134]},{14:[1,96],18:[1,135]},{5:[2,47]},{17:[1,79],26:136},{14:[1,96],18:[1,137]},{14:[1,110],18:[1,138]},{14:[1,110],18:[1,139]},{14:[1,110],18:[1,140]},{14:[2,10],18:[2,10]},{12:[1,141],14:[2,8],18:[2,8]},{5:[2,16]},{5:[2,17]},{5:[2,18]},{14:[2,25],18:[2,25]},{14:[2,21],18:[2,21]},{5:[2,28]},{5:[2,29]},{5:[2,30]},{14:[2,12],18:[2,12]},{14:[2,14],18:[2,14]},{5:[2,33]},{5:[2,34]},{5:[2,35]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,43]},{5:[2,44]},{5:[2,45]},{14:[2,22],18:[2,22]},{14:[2,24],18:[2,24]},{5:[2,48]},{5:[2,49]},{5:[2,50]},{14:[2,9],18:[2,9]}],\ndefaultActions: {14:[2,1],15:[2,2],16:[2,3],17:[2,4],18:[2,5],19:[2,6],24:[2,19],29:[2,31],34:[2,36],39:[2,41],44:[2,46],49:[2,51],83:[2,15],89:[2,27],95:[2,32],101:[2,37],105:[2,42],109:[2,47],117:[2,16],118:[2,17],119:[2,18],122:[2,28],123:[2,29],124:[2,30],127:[2,33],128:[2,34],129:[2,35],130:[2,38],131:[2,39],132:[2,40],133:[2,43],134:[2,44],135:[2,45],138:[2,48],139:[2,49],140:[2,50]},\nparseError: function parseError (str, hash) {\n    throw new Error(str);\n},\nparse: function parse(input) {\n    var self = this, stack = [0], vstack = [null], lstack = [], table = this.table, yytext = \"\", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    this.lexer.setInput(input);\n    this.lexer.yy = this.yy;\n    this.yy.lexer = this.lexer;\n    this.yy.parser = this;\n    if (typeof this.lexer.yylloc == \"undefined\")\n        this.lexer.yylloc = {};\n    var yyloc = this.lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = this.lexer.options && this.lexer.options.ranges;\n    if (typeof this.yy.parseError === \"function\")\n        this.parseError = this.yy.parseError;\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n    function lex() {\n        var token;\n        token = self.lexer.lex() || 1;\n        if (typeof token !== \"number\") {\n            token = self.symbols_[token] || token;\n        }\n        return token;\n    }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == \"undefined\") {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === \"undefined\" || !action.length || !action[0]) {\n            var errStr = \"\";\n            if (!recovering) {\n                expected = [];\n                for (p in table[state])\n                    if (this.terminals_[p] && p > 2) {\n                        expected.push(\"'\" + this.terminals_[p] + \"'\");\n                    }\n                if (this.lexer.showPosition) {\n                    errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + this.lexer.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n                } else {\n                    errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == 1?\"end of input\":\"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n                }\n                this.parseError(errStr, {text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected});\n            }\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(this.lexer.yytext);\n            lstack.push(this.lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = this.lexer.yyleng;\n                yytext = this.lexer.yytext;\n                yylineno = this.lexer.yylineno;\n                yyloc = this.lexer.yylloc;\n                if (recovering > 0)\n                    recovering--;\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column};\n            if (ranges) {\n                yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n            r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\n            if (typeof r !== \"undefined\") {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}\n};\nundefined/* Jison generated lexer */\nvar lexer = (function(){\nvar lexer = ({EOF:1,\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\nsetInput:function (input) {\n        this._input = input;\n        this._more = this._less = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {first_line:1,first_column:0,last_line:1,last_column:0};\n        if (this.options.ranges) this.yylloc.range = [0,0];\n        this.offset = 0;\n        return this;\n    },\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) this.yylloc.range[1]++;\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length-len-1);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length-1);\n        this.matched = this.matched.substr(0, this.matched.length-1);\n\n        if (lines.length-1) this.yylineno -= lines.length-1;\n        var r = this.yylloc.range;\n\n        this.yylloc = {first_line: this.yylloc.first_line,\n          last_line: this.yylineno+1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ?\n              (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length:\n              this.yylloc.first_column - len\n          };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        return this;\n    },\nmore:function () {\n        this._more = true;\n        return this;\n    },\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20)+(next.length > 20 ? '...':'')).replace(/\\n/g, \"\");\n    },\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c+\"^\";\n    },\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) this.done = true;\n\n        var token,\n            match,\n            tempMatch,\n            index,\n            col,\n            lines;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i=0;i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (!this.options.flex) break;\n            }\n        }\n        if (match) {\n            lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n            if (lines) this.yylineno += lines.length;\n            this.yylloc = {first_line: this.yylloc.last_line,\n                           last_line: this.yylineno+1,\n                           first_column: this.yylloc.last_column,\n                           last_column: lines ? lines[lines.length-1].length-lines[lines.length-1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length};\n            this.yytext += match[0];\n            this.match += match[0];\n            this.matches = match;\n            this.yyleng = this.yytext.length;\n            if (this.options.ranges) {\n                this.yylloc.range = [this.offset, this.offset += this.yyleng];\n            }\n            this._more = false;\n            this._input = this._input.slice(match[0].length);\n            this.matched += match[0];\n            token = this.performAction.call(this, this.yy, this, rules[index],this.conditionStack[this.conditionStack.length-1]);\n            if (this.done && this._input) this.done = false;\n            if (token) return token;\n            else return;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\\n'+this.showPosition(),\n                    {text: \"\", token: null, line: this.yylineno});\n        }\n    },\nlex:function lex () {\n        var r = this.next();\n        if (typeof r !== 'undefined') {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\npopState:function popState () {\n        return this.conditionStack.pop();\n    },\n_currentRules:function _currentRules () {\n        return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;\n    },\ntopState:function () {\n        return this.conditionStack[this.conditionStack.length-2];\n    },\npushState:function begin (condition) {\n        this.begin(condition);\n    }});\nlexer.options = {};\nlexer.performAction = function anonymous(yy,yy_,$avoiding_name_collisions,YY_START\n) {\n\nvar YYSTATE=YY_START\nswitch($avoiding_name_collisions) {\ncase 0:// ignore\nbreak;\ncase 1:return 17\nbreak;\ncase 2:return 18\nbreak;\ncase 3:return 12\nbreak;\ncase 4:return 19\nbreak;\ncase 5:return 28\nbreak;\ncase 6:return 29\nbreak;\ncase 7:return 30\nbreak;\ncase 8:return 31\nbreak;\ncase 9:return 32\nbreak;\ncase 10:return 14\nbreak;\ncase 11:return 23\nbreak;\ncase 12:return 22\nbreak;\ncase 13:return 20\nbreak;\ncase 14:return 21\nbreak;\ncase 15:return 5\nbreak;\ncase 16:return \"INVALID\"\nbreak;\n}\n};\nlexer.rules = [/^(?:\\s+)/,/^(?:\\()/,/^(?:\\))/,/^(?:-?[0-9]+(\\.[0-9]+)?([eE][\\-\\+]?[0-9]+)?)/,/^(?:POINT\\b)/,/^(?:LINESTRING\\b)/,/^(?:POLYGON\\b)/,/^(?:MULTIPOINT\\b)/,/^(?:MULTILINESTRING\\b)/,/^(?:MULTIPOLYGON\\b)/,/^(?:,)/,/^(?:EMPTY\\b)/,/^(?:M\\b)/,/^(?:Z\\b)/,/^(?:ZM\\b)/,/^(?:$)/,/^(?:.)/];\nlexer.conditions = {\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],\"inclusive\":true}};\nreturn lexer;})()\nparser.lexer = lexer;\nfunction Parser () { this.yy = {}; }Parser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n  function PointArray (point) {\n    this.data = [ point ];\n    this.type = 'PointArray';\n  }\n\n  PointArray.prototype.addPoint = function (point) {\n    if (point.type === 'PointArray') {\n      this.data = this.data.concat(point.data);\n    } else {\n      this.data.push(point);\n    }\n\n    return this;\n  };\n\n  PointArray.prototype.toJSON = function () {\n    return this.data;\n  };\n\n  function Ring (point) {\n    this.data = point;\n    this.type = 'Ring';\n  }\n\n  Ring.prototype.toJSON = function () {\n    var data = [ ];\n\n    for (var i = 0; i < this.data.data.length; i++) {\n      data.push(this.data.data[i]);\n    }\n\n    return data;\n  };\n\n  function RingList (ring) {\n    this.data = [ ring ];\n    this.type = 'RingList';\n  }\n\n  RingList.prototype.addRing = function (ring) {\n    this.data.push(ring);\n\n    return this;\n  };\n\n  RingList.prototype.toJSON = function () {\n    var data = [ ];\n\n    for (var i = 0; i < this.data.length; i++) {\n      data.push(this.data[i].toJSON());\n    }\n\n    if (data.length === 1) {\n      return data;\n    } else {\n      return data;\n    }\n  };\n\n  function PolygonList (polygon) {\n    this.data = [ polygon ];\n    this.type = 'PolygonList';\n  }\n\n  PolygonList.prototype.addPolygon = function (polygon) {\n    this.data.push(polygon);\n\n    return this;\n  };\n\n  PolygonList.prototype.toJSON = function () {\n    var data = [ ];\n\n    for (var i = 0; i < this.data.length; i++) {\n      data = data.concat( [ this.data[i].toJSON() ] );\n    }\n\n    return data;\n  };\n\n  function _parse () {\n    return parser.parse.apply(parser, arguments);\n  }\n\n  function parse (element) {\n    var res, primitive;\n\n    try {\n      res = parser.parse(element);\n    } catch (err) {\n      throw Error(\"Unable to parse: \" + err);\n    }\n\n    return Terraformer.Primitive(res);\n  }\n\n  function arrayToRing (arr) {\n    var parts = [ ], ret = '';\n\n    for (var i = 0; i < arr.length; i++) {\n      parts.push(arr[i].join(' '));\n    }\n\n    ret += '(' + parts.join(', ') + ')';\n\n    return ret;\n\n  }\n\n  function pointToWKTPoint (primitive) {\n    var ret = 'POINT ';\n\n    if (primitive.coordinates === undefined || primitive.coordinates.length === 0) {\n      ret += 'EMPTY';\n\n      return ret;\n    } else if (primitive.coordinates.length === 3) {\n      // 3d or time? default to 3d\n      if (primitive.properties && primitive.properties.m === true) {\n        ret += 'M ';\n      } else {\n        ret += 'Z ';\n      }\n    } else if (primitive.coordinates.length === 4) {\n      // 3d and time\n      ret += 'ZM ';\n    }\n\n    // include coordinates\n    ret += '(' + primitive.coordinates.join(' ') + ')';\n\n    return ret;\n  }\n\n  function lineStringToWKTLineString (primitive) {\n    var ret = 'LINESTRING ';\n\n    if (primitive.coordinates === undefined || primitive.coordinates.length === 0 || primitive.coordinates[0].length === 0) {\n      ret += 'EMPTY';\n\n      return ret;\n    } else if (primitive.coordinates[0].length === 3) {\n      if (primitive.properties && primitive.properties.m === true) {\n        ret += 'M ';\n      } else {\n        ret += 'Z ';\n      }\n    } else if (primitive.coordinates[0].length === 4) {\n      ret += 'ZM ';\n    }\n\n    ret += arrayToRing(primitive.coordinates);\n\n    return ret;\n  }\n\n  function polygonToWKTPolygon (primitive) {\n    var ret = 'POLYGON ';\n\n    if (primitive.coordinates === undefined || primitive.coordinates.length === 0 || primitive.coordinates[0].length === 0) {\n      ret += 'EMPTY';\n\n      return ret;\n    } else if (primitive.coordinates[0][0].length === 3) {\n      if (primitive.properties && primitive.properties.m === true) {\n        ret += 'M ';\n      } else {\n        ret += 'Z ';\n      }\n    } else if (primitive.coordinates[0][0].length === 4) {\n      ret += 'ZM ';\n    }\n\n    ret += '(';\n    var parts = [ ];\n    for (var i = 0; i < primitive.coordinates.length; i++) {\n      parts.push(arrayToRing(primitive.coordinates[i]));\n    }\n\n    ret += parts.join(', ');\n    ret += ')';\n\n    return ret;\n  }\n\n  function multiPointToWKTMultiPoint (primitive) {\n    var ret = 'MULTIPOINT ';\n\n    if (primitive.coordinates === undefined || primitive.coordinates.length === 0 || primitive.coordinates[0].length === 0) {\n      ret += 'EMPTY';\n\n      return ret;\n    } else if (primitive.coordinates[0].length === 3) {\n      if (primitive.properties && primitive.properties.m === true) {\n        ret += 'M ';\n      } else {\n        ret += 'Z ';\n      }\n    } else if (primitive.coordinates[0].length === 4) {\n      ret += 'ZM ';\n    }\n\n    ret += arrayToRing(primitive.coordinates);\n\n    return ret;\n  }\n\n  function multiLineStringToWKTMultiLineString (primitive) {\n    var ret = 'MULTILINESTRING ';\n\n    if (primitive.coordinates === undefined || primitive.coordinates.length === 0 || primitive.coordinates[0].length === 0) {\n      ret += 'EMPTY';\n\n      return ret;\n    } else if (primitive.coordinates[0][0].length === 3) {\n      if (primitive.properties && primitive.properties.m === true) {\n        ret += 'M ';\n      } else {\n        ret += 'Z ';\n      }\n    } else if (primitive.coordinates[0][0].length === 4) {\n      ret += 'ZM ';\n    }\n\n    ret += '(';\n    var parts = [ ];\n    for (var i = 0; i < primitive.coordinates.length; i++) {\n      parts.push(arrayToRing(primitive.coordinates[i]));\n    }\n\n    ret += parts.join(', ');\n    ret += ')';\n\n    return ret;\n  }\n\n  function multiPolygonToWKTMultiPolygon (primitive) {\n    var ret = 'MULTIPOLYGON ';\n\n    if (primitive.coordinates === undefined || primitive.coordinates.length === 0 || primitive.coordinates[0].length === 0 || primitive.coordinates[0][0].length === 0) {\n      ret += 'EMPTY';\n\n      return ret;\n    } else if (primitive.coordinates[0][0][0].length === 3) {\n      if (primitive.properties && primitive.properties.m === true) {\n        ret += 'M ';\n      } else {\n        ret += 'Z ';\n      }\n    } else if (primitive.coordinates[0][0][0].length === 4) {\n      ret += 'ZM ';\n    }\n\n    ret += '(';\n    var inner = [ ];\n    for (var c = 0; c < primitive.coordinates.length; c++) {\n      var it = '(';\n      var parts = [ ];\n      for (var i = 0; i < primitive.coordinates[c].length; i++) {\n        parts.push(arrayToRing(primitive.coordinates[c][i]));\n      }\n\n      it += parts.join(', ');\n      it += ')';\n\n      inner.push(it);\n    }\n\n    ret += inner.join(', ');\n    ret += ')';\n\n    return ret;\n  }\n\n  function convert (primitive) {\n    switch (primitive.type) {\n      case 'Point':\n        return pointToWKTPoint(primitive);\n      case 'LineString':\n        return lineStringToWKTLineString(primitive);\n      case 'Polygon':\n        return polygonToWKTPolygon(primitive);\n      case 'MultiPoint':\n        return multiPointToWKTMultiPoint(primitive);\n      case 'MultiLineString':\n        return multiLineStringToWKTMultiLineString(primitive);\n      case 'MultiPolygon':\n        return multiPolygonToWKTMultiPolygon(primitive);\n      case 'GeometryCollection':\n        var ret = 'GEOMETRYCOLLECTION';\n        var parts = [ ];\n        for (i = 0; i < primitive.geometries.length; i++){\n          parts.push(convert(primitive.geometries[i]));\n        }\n        return ret + '(' + parts.join(', ') + ')';\n      default:\n        throw Error (\"Unknown Type: \" + primitive.type);\n    }\n  }\n\n  exports.parser  = parser;\n  exports.Parser  = parser.Parser;\n  exports.parse   = parse;\n  exports.convert = convert;\n\n  return exports;\n}));\n","(function (root, factory) {\n\n  // Node.\n  if(typeof module === 'object' && typeof module.exports === 'object') {\n    exports = module.exports = factory();\n  }\n\n  // Browser Global.\n  if(typeof window === \"object\") {\n    root.Terraformer = factory();\n  }\n\n}(this, function(){\n  \"use strict\";\n\n  var exports = {},\n      EarthRadius = 6378137,\n      DegreesPerRadian = 57.295779513082320,\n      RadiansPerDegree =  0.017453292519943,\n      MercatorCRS = {\n        \"type\": \"link\",\n        \"properties\": {\n          \"href\": \"http://spatialreference.org/ref/sr-org/6928/ogcwkt/\",\n          \"type\": \"ogcwkt\"\n        }\n      },\n      GeographicCRS = {\n        \"type\": \"link\",\n        \"properties\": {\n          \"href\": \"http://spatialreference.org/ref/epsg/4326/ogcwkt/\",\n          \"type\": \"ogcwkt\"\n        }\n      };\n\n  /*\n  Internal: isArray function\n  */\n  function isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  }\n\n  /*\n  Internal: safe warning\n  */\n  function warn() {\n    var args = Array.prototype.slice.apply(arguments);\n\n    if (typeof console !== undefined && console.warn) {\n      console.warn.apply(console, args);\n    }\n  }\n\n  /*\n  Internal: Extend one object with another.\n  */\n  function extend(destination, source) {\n    for (var k in source) {\n      if (source.hasOwnProperty(k)) {\n        destination[k] = source[k];\n      }\n    }\n    return destination;\n  }\n\n  /*\n  Public: Calculate an bounding box for a geojson object\n  */\n  function calculateBounds (geojson) {\n    if(geojson.type){\n      switch (geojson.type) {\n        case 'Point':\n          return [ geojson.coordinates[0], geojson.coordinates[1], geojson.coordinates[0], geojson.coordinates[1]];\n\n        case 'MultiPoint':\n          return calculateBoundsFromArray(geojson.coordinates);\n\n        case 'LineString':\n          return calculateBoundsFromArray(geojson.coordinates);\n\n        case 'MultiLineString':\n          return calculateBoundsFromNestedArrays(geojson.coordinates);\n\n        case 'Polygon':\n          return calculateBoundsFromNestedArrays(geojson.coordinates);\n\n        case 'MultiPolygon':\n          return calculateBoundsFromNestedArrayOfArrays(geojson.coordinates);\n\n        case 'Feature':\n          return geojson.geometry? calculateBounds(geojson.geometry) : null;\n\n        case 'FeatureCollection':\n          return calculateBoundsForFeatureCollection(geojson);\n\n        case 'GeometryCollection':\n          return calculateBoundsForGeometryCollection(geojson);\n\n        default:\n          throw new Error(\"Unknown type: \" + geojson.type);\n      }\n    }\n    return null;\n  }\n\n  /*\n  Internal: Calculate an bounding box from an nested array of positions\n  [\n    [\n      [ [lng, lat],[lng, lat],[lng, lat] ]\n    ]\n    [\n      [lng, lat],[lng, lat],[lng, lat]\n    ]\n    [\n      [lng, lat],[lng, lat],[lng, lat]\n    ]\n  ]\n  */\n  function calculateBoundsFromNestedArrays (array) {\n    var x1 = null, x2 = null, y1 = null, y2 = null;\n\n    for (var i = 0; i < array.length; i++) {\n      var inner = array[i];\n\n      for (var j = 0; j < inner.length; j++) {\n        var lonlat = inner[j];\n\n        var lon = lonlat[0];\n        var lat = lonlat[1];\n\n        if (x1 === null) {\n          x1 = lon;\n        } else if (lon < x1) {\n          x1 = lon;\n        }\n\n        if (x2 === null) {\n          x2 = lon;\n        } else if (lon > x2) {\n          x2 = lon;\n        }\n\n        if (y1 === null) {\n          y1 = lat;\n        } else if (lat < y1) {\n          y1 = lat;\n        }\n\n        if (y2 === null) {\n          y2 = lat;\n        } else if (lat > y2) {\n          y2 = lat;\n        }\n      }\n    }\n\n    return [x1, y1, x2, y2 ];\n  }\n\n  /*\n  Internal: Calculate a bounding box from an array of arrays of arrays\n  [\n    [ [lng, lat],[lng, lat],[lng, lat] ]\n    [ [lng, lat],[lng, lat],[lng, lat] ]\n    [ [lng, lat],[lng, lat],[lng, lat] ]\n  ]\n  */\n  function calculateBoundsFromNestedArrayOfArrays (array) {\n    var x1 = null, x2 = null, y1 = null, y2 = null;\n\n    for (var i = 0; i < array.length; i++) {\n      var inner = array[i];\n\n      for (var j = 0; j < inner.length; j++) {\n        var innerinner = inner[j];\n        for (var k = 0; k < innerinner.length; k++) {\n          var lonlat = innerinner[k];\n\n          var lon = lonlat[0];\n          var lat = lonlat[1];\n\n          if (x1 === null) {\n            x1 = lon;\n          } else if (lon < x1) {\n            x1 = lon;\n          }\n\n          if (x2 === null) {\n            x2 = lon;\n          } else if (lon > x2) {\n            x2 = lon;\n          }\n\n          if (y1 === null) {\n            y1 = lat;\n          } else if (lat < y1) {\n            y1 = lat;\n          }\n\n          if (y2 === null) {\n            y2 = lat;\n          } else if (lat > y2) {\n            y2 = lat;\n          }\n        }\n      }\n    }\n\n    return [x1, y1, x2, y2];\n  }\n\n  /*\n  Internal: Calculate a bounding box from an array of positions\n  [\n    [lng, lat],[lng, lat],[lng, lat]\n  ]\n  */\n  function calculateBoundsFromArray (array) {\n    var x1 = null, x2 = null, y1 = null, y2 = null;\n\n    for (var i = 0; i < array.length; i++) {\n      var lonlat = array[i];\n      var lon = lonlat[0];\n      var lat = lonlat[1];\n\n      if (x1 === null) {\n        x1 = lon;\n      } else if (lon < x1) {\n        x1 = lon;\n      }\n\n      if (x2 === null) {\n        x2 = lon;\n      } else if (lon > x2) {\n        x2 = lon;\n      }\n\n      if (y1 === null) {\n        y1 = lat;\n      } else if (lat < y1) {\n        y1 = lat;\n      }\n\n      if (y2 === null) {\n        y2 = lat;\n      } else if (lat > y2) {\n        y2 = lat;\n      }\n    }\n\n    return [x1, y1, x2, y2 ];\n  }\n\n  /*\n  Internal: Calculate an bounding box for a feature collection\n  */\n  function calculateBoundsForFeatureCollection(featureCollection){\n    var extents = [], extent;\n    for (var i = featureCollection.features.length - 1; i >= 0; i--) {\n      extent = calculateBounds(featureCollection.features[i].geometry);\n      extents.push([extent[0],extent[1]]);\n      extents.push([extent[2],extent[3]]);\n    }\n\n    return calculateBoundsFromArray(extents);\n  }\n\n  /*\n  Internal: Calculate an bounding box for a geometry collection\n  */\n  function calculateBoundsForGeometryCollection(geometryCollection){\n    var extents = [], extent;\n\n    for (var i = geometryCollection.geometries.length - 1; i >= 0; i--) {\n      extent = calculateBounds(geometryCollection.geometries[i]);\n      extents.push([extent[0],extent[1]]);\n      extents.push([extent[2],extent[3]]);\n    }\n\n    return calculateBoundsFromArray(extents);\n  }\n\n  function calculateEnvelope(geojson){\n    var bounds = calculateBounds(geojson);\n    return {\n      x: bounds[0],\n      y: bounds[1],\n      w: Math.abs(bounds[0] - bounds[2]),\n      h: Math.abs(bounds[1] - bounds[3])\n    };\n  }\n\n  /*\n  Internal: Convert radians to degrees. Used by spatial reference converters.\n  */\n  function radToDeg(rad) {\n    return rad * DegreesPerRadian;\n  }\n\n  /*\n  Internal: Convert degrees to radians. Used by spatial reference converters.\n  */\n  function degToRad(deg) {\n    return deg * RadiansPerDegree;\n  }\n\n  /*\n  Internal: Loop over each array in a geojson object and apply a function to it. Used by spatial reference converters.\n  */\n  function eachPosition(coordinates, func) {\n    for (var i = 0; i < coordinates.length; i++) {\n      // we found a number so lets convert this pair\n      if(typeof coordinates[i][0] === \"number\"){\n        coordinates[i] = func(coordinates[i]);\n      }\n      // we found an coordinates array it again and run THIS function against it\n      if(typeof coordinates[i] === \"object\"){\n        coordinates[i] = eachPosition(coordinates[i], func);\n      }\n    }\n    return coordinates;\n  }\n\n  /*\n  Public: Convert a GeoJSON Position object to Geographic (4326)\n  */\n  function positionToGeographic(position) {\n    var x = position[0];\n    var y = position[1];\n    return [radToDeg(x / EarthRadius) - (Math.floor((radToDeg(x / EarthRadius) + 180) / 360) * 360), radToDeg((Math.PI / 2) - (2 * Math.atan(Math.exp(-1.0 * y / EarthRadius))))];\n  }\n\n  /*\n  Public: Convert a GeoJSON Position object to Web Mercator (102100)\n  */\n  function positionToMercator(position) {\n    var lng = position[0];\n    var lat = Math.max(Math.min(position[1], 89.99999), -89.99999);\n    return [degToRad(lng) * EarthRadius, EarthRadius/2.0 * Math.log( (1.0 + Math.sin(degToRad(lat))) / (1.0 - Math.sin(degToRad(lat))) )];\n  }\n\n  /*\n  Public: Apply a function agaist all positions in a geojson object. Used by spatial reference converters.\n  */\n  function applyConverter(geojson, converter, noCrs){\n    if(geojson.type === \"Point\") {\n      geojson.coordinates = converter(geojson.coordinates);\n    } else if(geojson.type === \"Feature\") {\n      geojson.geometry = applyConverter(geojson.geometry, converter, true);\n    } else if(geojson.type === \"FeatureCollection\") {\n      for (var f = 0; f < geojson.features.length; f++) {\n        geojson.features[f] = applyConverter(geojson.features[f], converter, true);\n      }\n    } else if(geojson.type === \"GeometryCollection\") {\n      for (var g = 0; g < geojson.geometries.length; g++) {\n        geojson.geometries[g] = applyConverter(geojson.geometries[g], converter, true);\n      }\n    } else {\n      geojson.coordinates = eachPosition(geojson.coordinates, converter);\n    }\n\n    if(!noCrs){\n      if(converter === positionToMercator){\n        geojson.crs = MercatorCRS;\n      }\n    }\n\n    if(converter === positionToGeographic){\n      delete geojson.crs;\n    }\n\n    return geojson;\n  }\n\n  /*\n  Public: Convert a GeoJSON object to ESRI Web Mercator (102100)\n  */\n  function toMercator(geojson) {\n    return applyConverter(geojson, positionToMercator);\n  }\n\n  /*\n  Convert a GeoJSON object to Geographic coordinates (WSG84, 4326)\n  */\n  function toGeographic(geojson) {\n    return applyConverter(geojson, positionToGeographic);\n  }\n\n\n  /*\n  Internal: -1,0,1 comparison function\n  */\n  function cmp(a, b) {\n    if(a < b) {\n      return -1;\n    } else if(a > b) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n\n  /*\n  Internal: used for sorting\n  */\n  function compSort(p1, p2) {\n    if (p1[0] > p2[0]) {\n      return -1;\n    } else if (p1[0] < p2[0]) {\n      return 1;\n    } else if (p1[1] > p2[1]) {\n      return -1;\n    } else if (p1[1] < p2[1]) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n\n\n  /*\n  Internal: used to determine turn\n  */\n  function turn(p, q, r) {\n    // Returns -1, 0, 1 if p,q,r forms a right, straight, or left turn.\n    return cmp((q[0] - p[0]) * (r[1] - p[1]) - (r[0] - p[0]) * (q[1] - p[1]), 0);\n  }\n\n  /*\n  Internal: used to determine euclidean distance between two points\n  */\n  function euclideanDistance(p, q) {\n    // Returns the squared Euclidean distance between p and q.\n    var dx = q[0] - p[0];\n    var dy = q[1] - p[1];\n\n    return dx * dx + dy * dy;\n  }\n\n  function nextHullPoint(points, p) {\n    // Returns the next point on the convex hull in CCW from p.\n    var q = p;\n    for(var r in points) {\n      var t = turn(p, q, points[r]);\n      if(t === -1 || t === 0 && euclideanDistance(p, points[r]) > euclideanDistance(p, q)) {\n        q = points[r];\n      }\n    }\n    return q;\n  }\n\n  function convexHull(points) {\n    // implementation of the Jarvis March algorithm\n    // adapted from http://tixxit.wordpress.com/2009/12/09/jarvis-march/\n\n    if(points.length === 0) {\n      return [];\n    } else if(points.length === 1) {\n      return points;\n    }\n\n    // Returns the points on the convex hull of points in CCW order.\n    var hull = [points.sort(compSort)[0]];\n\n    for(var p = 0; p < hull.length; p++) {\n      var q = nextHullPoint(points, hull[p]);\n\n      if(q !== hull[0]) {\n        hull.push(q);\n      }\n    }\n\n    return hull;\n  }\n\n  function isConvex(points) {\n    var ltz;\n\n    for (var i = 0; i < points.length - 3; i++) {\n      var p1 = points[i];\n      var p2 = points[i + 1];\n      var p3 = points[i + 2];\n      var v = [p2[0] - p1[0], p2[1] - p1[1]];\n\n      // p3.x * v.y - p3.y * v.x + v.x * p1.y - v.y * p1.x\n      var res = p3[0] * v[1] - p3[1] * v[0] + v[0] * p1[1] - v[1] * p1[0];\n\n      if (i === 0) {\n        if (res < 0) {\n          ltz = true;\n        } else {\n          ltz = false;\n        }\n      } else {\n        if (ltz && (res > 0) || !ltz && (res < 0)) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n\n  function coordinatesContainPoint(coordinates, point) {\n    var contains = false;\n    for(var i = -1, l = coordinates.length, j = l - 1; ++i < l; j = i) {\n      if (((coordinates[i][1] <= point[1] && point[1] < coordinates[j][1]) ||\n           (coordinates[j][1] <= point[1] && point[1] < coordinates[i][1])) &&\n          (point[0] < (coordinates[j][0] - coordinates[i][0]) * (point[1] - coordinates[i][1]) / (coordinates[j][1] - coordinates[i][1]) + coordinates[i][0])) {\n        contains = !contains;\n      }\n    }\n    return contains;\n  }\n\n  function polygonContainsPoint(polygon, point) {\n    if (polygon && polygon.length) {\n      if (polygon.length === 1) { // polygon with no holes\n        return coordinatesContainPoint(polygon[0], point);\n      } else { // polygon with holes\n        if (coordinatesContainPoint(polygon[0], point)) {\n          for (var i = 1; i < polygon.length; i++) {\n            if (coordinatesContainPoint(polygon[i], point)) {\n              return false; // found in hole\n            }\n          }\n\n          return true;\n        } else {\n          return false;\n        }\n      }\n    } else {\n      return false;\n    }\n  }\n\n  function edgeIntersectsEdge(a1, a2, b1, b2) {\n    var ua_t = (b2[0] - b1[0]) * (a1[1] - b1[1]) - (b2[1] - b1[1]) * (a1[0] - b1[0]);\n    var ub_t = (a2[0] - a1[0]) * (a1[1] - b1[1]) - (a2[1] - a1[1]) * (a1[0] - b1[0]);\n    var u_b  = (b2[1] - b1[1]) * (a2[0] - a1[0]) - (b2[0] - b1[0]) * (a2[1] - a1[1]);\n\n    if ( u_b !== 0 ) {\n      var ua = ua_t / u_b;\n      var ub = ub_t / u_b;\n\n      if ( 0 <= ua && ua <= 1 && 0 <= ub && ub <= 1 ) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  }\n\n  function arraysIntersectArrays(a, b) {\n    if (isNumber(a[0][0])) {\n      if (isNumber(b[0][0])) {\n        for (var i = 0; i < a.length - 1; i++) {\n          for (var j = 0; j < b.length - 1; j++) {\n            if (edgeIntersectsEdge(a[i], a[i + 1], b[j], b[j + 1])) {\n              return true;\n            }\n          }\n        }\n      } else {\n        for (var k = 0; k < b.length; k++) {\n          if (arraysIntersectArrays(a, b[k])) {\n            return true;\n          }\n        }\n      }\n    } else {\n      for (var l = 0; l < a.length; l++) {\n        if (arraysIntersectArrays(a[l], b)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /*\n  Internal: Returns a copy of coordinates for s closed polygon\n  */\n  function closedPolygon(coordinates) {\n    var outer = [ ];\n\n    for (var i = 0; i < coordinates.length; i++) {\n      var inner = coordinates[i].slice();\n      if (pointsEqual(inner[0], inner[inner.length - 1]) === false) {\n        inner.push(inner[0]);\n      }\n\n      outer.push(inner);\n    }\n\n    return outer;\n  }\n\n  function pointsEqual(a, b) {\n    for (var i = 0; i < a.length; i++) {\n\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function coordinatesEqual(a, b) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    var na = a.slice().sort(compSort);\n    var nb = b.slice().sort(compSort);\n\n    for (var i = 0; i < na.length; i++) {\n      if (na[i].length !== nb[i].length) {\n        return false;\n      }\n      for (var j = 0; j < na.length; j++) {\n        if (na[i][j] !== nb[i][j]) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n\n  /*\n  Internal: An array of variables that will be excluded form JSON objects.\n  */\n  var excludeFromJSON = [\"length\"];\n\n  /*\n  Internal: Base GeoJSON Primitive\n  */\n  function Primitive(geojson){\n    if(geojson){\n      switch (geojson.type) {\n      case 'Point':\n        return new Point(geojson);\n\n      case 'MultiPoint':\n        return new MultiPoint(geojson);\n\n      case 'LineString':\n        return new LineString(geojson);\n\n      case 'MultiLineString':\n        return new MultiLineString(geojson);\n\n      case 'Polygon':\n        return new Polygon(geojson);\n\n      case 'MultiPolygon':\n        return new MultiPolygon(geojson);\n\n      case 'Feature':\n        return new Feature(geojson);\n\n      case 'FeatureCollection':\n        return new FeatureCollection(geojson);\n\n      case 'GeometryCollection':\n        return new GeometryCollection(geojson);\n\n      default:\n        throw new Error(\"Unknown type: \" + geojson.type);\n      }\n    }\n  }\n\n  Primitive.prototype.toMercator = function(){\n    return toMercator(this);\n  };\n\n  Primitive.prototype.toGeographic = function(){\n    return toGeographic(this);\n  };\n\n  Primitive.prototype.envelope = function(){\n    return calculateEnvelope(this);\n  };\n\n  Primitive.prototype.bbox = function(){\n    return calculateBounds(this);\n  };\n\n  Primitive.prototype.convexHull = function(){\n    var coordinates = [ ], i, j;\n    if (this.type === 'Point') {\n      return null;\n    } else if (this.type === 'LineString' || this.type === 'MultiPoint') {\n      if (this.coordinates && this.coordinates.length >= 3) {\n        coordinates = this.coordinates;\n      } else {\n        return null;\n      }\n    } else if (this.type === 'Polygon' || this.type === 'MultiLineString') {\n      if (this.coordinates && this.coordinates.length > 0) {\n        for (i = 0; i < this.coordinates.length; i++) {\n          coordinates = coordinates.concat(this.coordinates[i]);\n        }\n        if(coordinates.length < 3){\n          return null;\n        }\n      } else {\n        return null;\n      }\n    } else if (this.type === 'MultiPolygon') {\n      if (this.coordinates && this.coordinates.length > 0) {\n        for (i = 0; i < this.coordinates.length; i++) {\n          for (j = 0; j < this.coordinates[i].length; j++) {\n            coordinates = coordinates.concat(this.coordinates[i][j]);\n          }\n        }\n        if(coordinates.length < 3){\n          return null;\n        }\n      } else {\n        return null;\n      }\n    } else if(this.type === \"Feature\"){\n      var primitive = new Primitive(this.geometry);\n      return primitive.convexHull();\n    }\n\n    return new Polygon({\n      type: 'Polygon',\n      coordinates: closedPolygon([convexHull(coordinates)])\n    });\n  };\n\n  Primitive.prototype.toJSON = function(){\n    var obj = {};\n    for (var key in this) {\n      if (this.hasOwnProperty(key) && excludeFromJSON.indexOf(key) === -1) {\n        obj[key] = this[key];\n      }\n    }\n    obj.bbox = calculateBounds(this);\n    return obj;\n  };\n\n  Primitive.prototype.contains = function(primitive){\n    return new Primitive(primitive).within(this);\n  };\n\n  Primitive.prototype.within = function(primitive) {\n    var coordinates, i, j, contains;\n\n    // if we are passed a feature, use the polygon inside instead\n    if (primitive.type === 'Feature') {\n      primitive = primitive.geometry;\n    }\n\n    // point.within(point) :: equality\n    if (primitive.type === \"Point\") {\n      if (this.type === \"Point\") {\n        return pointsEqual(this.coordinates, primitive.coordinates);\n\n      }\n    }\n\n    // point.within(multilinestring)\n    if (primitive.type === \"MultiLineString\") {\n      if (this.type === \"Point\") {\n        for (i = 0; i < primitive.coordinates.length; i++) {\n          var linestring = { type: \"LineString\", coordinates: primitive.coordinates[i] };\n\n          if (this.within(linestring)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    // point.within(linestring), point.within(multipoint)\n    if (primitive.type === \"LineString\" || primitive.type === \"MultiPoint\") {\n      if (this.type === \"Point\") {\n        for (i = 0; i < primitive.coordinates.length; i++) {\n          if (this.coordinates.length !== primitive.coordinates[i].length) {\n            return false;\n          }\n\n          if (pointsEqual(this.coordinates, primitive.coordinates[i])) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (primitive.type === \"Polygon\") {\n      // polygon.within(polygon)\n      if (this.type === \"Polygon\") {\n        // check for equal polygons\n        if (primitive.coordinates.length === this.coordinates.length) {\n          for (i = 0; i < this.coordinates.length; i++) {\n            if (coordinatesEqual(this.coordinates[i], primitive.coordinates[i])) {\n              return true;\n            }\n          }\n        }\n\n        if (this.coordinates.length && polygonContainsPoint(primitive.coordinates, this.coordinates[0][0])) {\n          return !arraysIntersectArrays(closedPolygon(this.coordinates), closedPolygon(primitive.coordinates));\n        } else {\n          return false;\n        }\n\n      // point.within(polygon)\n      } else if (this.type === \"Point\") {\n        return polygonContainsPoint(primitive.coordinates, this.coordinates);\n\n      // linestring/multipoint withing polygon\n      } else if (this.type === \"LineString\" || this.type === \"MultiPoint\") {\n        if (!this.coordinates || this.coordinates.length === 0) {\n          return false;\n        }\n\n        for (i = 0; i < this.coordinates.length; i++) {\n          if (polygonContainsPoint(primitive.coordinates, this.coordinates[i]) === false) {\n            return false;\n          }\n        }\n\n        return true;\n\n      // multilinestring.within(polygon)\n      } else if (this.type === \"MultiLineString\") {\n        for (i = 0; i < this.coordinates.length; i++) {\n          var ls = new LineString(this.coordinates[i]);\n\n          if (ls.within(primitive) === false) {\n            contains++;\n            return false;\n          }\n        }\n\n        return true;\n\n      // multipolygon.within(polygon)\n      } else if (this.type === \"MultiPolygon\") {\n        for (i = 0; i < this.coordinates.length; i++) {\n          var p1 = new Primitive({ type: \"Polygon\", coordinates: this.coordinates[i] });\n\n          if (p1.within(primitive) === false) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n    }\n\n    if (primitive.type === \"MultiPolygon\") {\n      // point.within(multipolygon)\n      if (this.type === \"Point\") {\n        if (primitive.coordinates.length) {\n          for (i = 0; i < primitive.coordinates.length; i++) {\n            coordinates = primitive.coordinates[i];\n            if (polygonContainsPoint(coordinates, this.coordinates) && arraysIntersectArrays([this.coordinates], primitive.coordinates) === false) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      // polygon.within(multipolygon)\n      } else if (this.type === \"Polygon\") {\n        for (i = 0; i < this.coordinates.length; i++) {\n          if (primitive.coordinates[i].length === this.coordinates.length) {\n            for (j = 0; j < this.coordinates.length; j++) {\n              if (coordinatesEqual(this.coordinates[j], primitive.coordinates[i][j])) {\n                return true;\n              }\n            }\n          }\n        }\n\n        if (arraysIntersectArrays(this.coordinates, primitive.coordinates) === false) {\n          if (primitive.coordinates.length) {\n            for (i = 0; i < primitive.coordinates.length; i++) {\n              coordinates = primitive.coordinates[i];\n              if (polygonContainsPoint(coordinates, this.coordinates[0][0]) === false) {\n                contains = false;\n              } else {\n                contains = true;\n              }\n            }\n\n            return contains;\n          }\n        }\n\n      // linestring.within(multipolygon), multipoint.within(multipolygon)\n      } else if (this.type === \"LineString\" || this.type === \"MultiPoint\") {\n        for (i = 0; i < primitive.coordinates.length; i++) {\n          var p = { type: \"Polygon\", coordinates: primitive.coordinates[i] };\n\n          if (this.within(p)) {\n            return true;\n          }\n\n          return false;\n        }\n\n      // multilinestring.within(multipolygon)\n      } else if (this.type === \"MultiLineString\") {\n        for (i = 0; i < this.coordinates.length; i++) {\n          var lines = new LineString(this.coordinates[i]);\n\n          if (lines.within(primitive) === false) {\n            return false;\n          }\n        }\n\n        return true;\n\n      // multipolygon.within(multipolygon)\n      } else if (this.type === \"MultiPolygon\") {\n        for (i = 0; i < primitive.coordinates.length; i++) {\n          var mpoly = { type: \"Polygon\", coordinates: primitive.coordinates[i] };\n\n          if (this.within(mpoly) === false) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n    }\n\n    // default to false\n    return false;\n  };\n\n  Primitive.prototype.intersects = function(primitive) {\n    // if we are passed a feature, use the polygon inside instead\n    if (primitive.type === 'Feature') {\n      primitive = primitive.geometry;\n    }\n\n    var p = new Primitive(primitive);\n    if (this.within(primitive) || p.within(this)) {\n      return true;\n    }\n\n\n    if (this.type !== 'Point' && this.type !== 'MultiPoint' &&\n        primitive.type !== 'Point' && primitive.type !== 'MultiPoint') {\n      return arraysIntersectArrays(this.coordinates, primitive.coordinates);\n    } else if (this.type === 'Feature') {\n      // in the case of a Feature, use the internal primitive for intersection\n      var inner = new Primitive(this.geometry);\n      return inner.intersects(primitive);\n    }\n\n    warn(\"Type \" + this.type + \" to \" + primitive.type + \" intersection is not supported by intersects\");\n    return false;\n  };\n\n\n  /*\n  GeoJSON Point Class\n    new Point();\n    new Point(x,y,z,wtf);\n    new Point([x,y,z,wtf]);\n    new Point([x,y]);\n    new Point({\n      type: \"Point\",\n      coordinates: [x,y]\n    });\n  */\n  function Point(input){\n    var args = Array.prototype.slice.call(arguments);\n\n    if(input && input.type === \"Point\" && input.coordinates){\n      extend(this, input);\n    } else if(input && isArray(input)) {\n      this.coordinates = input;\n    } else if(args.length >= 2) {\n      this.coordinates = args;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.Point\";\n    }\n\n    this.type = \"Point\";\n  }\n\n  Point.prototype = new Primitive();\n  Point.prototype.constructor = Point;\n\n  /*\n  GeoJSON MultiPoint Class\n      new MultiPoint();\n      new MultiPoint([[x,y], [x1,y1]]);\n      new MultiPoint({\n        type: \"MultiPoint\",\n        coordinates: [x,y]\n      });\n  */\n  function MultiPoint(input){\n    if(input && input.type === \"MultiPoint\" && input.coordinates){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.coordinates = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.MultiPoint\";\n    }\n\n    this.type = \"MultiPoint\";\n  }\n\n  MultiPoint.prototype = new Primitive();\n  MultiPoint.prototype.constructor = MultiPoint;\n  MultiPoint.prototype.forEach = function(func){\n    for (var i = 0; i < this.coordinates.length; i++) {\n      func.apply(this, [this.coordinates[i], i, this.coordinates]);\n    }\n    return this;\n  };\n  MultiPoint.prototype.addPoint = function(point){\n    this.coordinates.push(point);\n    return this;\n  };\n  MultiPoint.prototype.insertPoint = function(point, index){\n    this.coordinates.splice(index, 0, point);\n    return this;\n  };\n  MultiPoint.prototype.removePoint = function(remove){\n    if(typeof remove === \"number\"){\n      this.coordinates.splice(remove, 1);\n    } else {\n      this.coordinates.splice(this.coordinates.indexOf(remove), 1);\n    }\n    return this;\n  };\n  MultiPoint.prototype.get = function(i){\n    return new Point(this.coordinates[i]);\n  };\n\n  /*\n  GeoJSON LineString Class\n      new LineString();\n      new LineString([[x,y], [x1,y1]]);\n      new LineString({\n        type: \"LineString\",\n        coordinates: [x,y]\n      });\n  */\n  function LineString(input){\n    if(input && input.type === \"LineString\" && input.coordinates){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.coordinates = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.LineString\";\n    }\n\n    this.type = \"LineString\";\n  }\n\n  LineString.prototype = new Primitive();\n  LineString.prototype.constructor = LineString;\n  LineString.prototype.addVertex = function(point){\n    this.coordinates.push(point);\n    return this;\n  };\n  LineString.prototype.insertVertex = function(point, index){\n    this.coordinates.splice(index, 0, point);\n    return this;\n  };\n  LineString.prototype.removeVertex = function(remove){\n    this.coordinates.splice(remove, 1);\n    return this;\n  };\n\n  /*\n  GeoJSON MultiLineString Class\n      new MultiLineString();\n      new MultiLineString([ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ]);\n      new MultiLineString({\n        type: \"MultiLineString\",\n        coordinates: [ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ]\n      });\n  */\n  function MultiLineString(input){\n    if(input && input.type === \"MultiLineString\" && input.coordinates){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.coordinates = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.MultiLineString\";\n    }\n\n    this.type = \"MultiLineString\";\n  }\n\n  MultiLineString.prototype = new Primitive();\n  MultiLineString.prototype.constructor = MultiLineString;\n  MultiLineString.prototype.forEach = function(func){\n    for (var i = 0; i < this.coordinates.length; i++) {\n      func.apply(this, [this.coordinates[i], i, this.coordinates ]);\n    }\n  };\n  MultiLineString.prototype.get = function(i){\n    return new LineString(this.coordinates[i]);\n  };\n\n  /*\n  GeoJSON Polygon Class\n      new Polygon();\n      new Polygon([ [[x,y], [x1,y1], [x2,y2]] ]);\n      new Polygon({\n        type: \"Polygon\",\n        coordinates: [ [[x,y], [x1,y1], [x2,y2]] ]\n      });\n  */\n  function Polygon(input){\n    if(input && input.type === \"Polygon\" && input.coordinates){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.coordinates = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.Polygon\";\n    }\n\n    this.type = \"Polygon\";\n  }\n\n  Polygon.prototype = new Primitive();\n  Polygon.prototype.constructor = Polygon;\n  Polygon.prototype.addVertex = function(point){\n    this.insertVertex(point, this.coordinates[0].length - 1);\n    return this;\n  };\n  Polygon.prototype.insertVertex = function(point, index){\n    this.coordinates[0].splice(index, 0, point);\n    return this;\n  };\n  Polygon.prototype.removeVertex = function(remove){\n    this.coordinates[0].splice(remove, 1);\n    return this;\n  };\n  Polygon.prototype.close = function() {\n    this.coordinates = closedPolygon(this.coordinates);\n  };\n  Polygon.prototype.hasHoles = function() {\n    return this.coordinates.length > 1;\n  };\n  Polygon.prototype.holes = function() {\n    var holes = [];\n    if (this.hasHoles()) {\n      for (var i = 1; i < this.coordinates.length; i++) {\n        holes.push(new Polygon([this.coordinates[i]]));\n      }\n    }\n    return holes;\n  };\n\n  /*\n  GeoJSON MultiPolygon Class\n      new MultiPolygon();\n      new MultiPolygon([ [ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ] ]);\n      new MultiPolygon({\n        type: \"MultiPolygon\",\n        coordinates: [ [ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ] ]\n      });\n  */\n  function MultiPolygon(input){\n    if(input && input.type === \"MultiPolygon\" && input.coordinates){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.coordinates = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.MultiPolygon\";\n    }\n\n    this.type = \"MultiPolygon\";\n  }\n\n  MultiPolygon.prototype = new Primitive();\n  MultiPolygon.prototype.constructor = MultiPolygon;\n  MultiPolygon.prototype.forEach = function(func){\n    for (var i = 0; i < this.coordinates.length; i++) {\n      func.apply(this, [this.coordinates[i], i, this.coordinates ]);\n    }\n  };\n  MultiPolygon.prototype.get = function(i){\n    return new Polygon(this.coordinates[i]);\n  };\n  MultiPolygon.prototype.close = function(){\n    var outer = [];\n    this.forEach(function(polygon){\n      outer.push(closedPolygon(polygon));\n    });\n    this.coordinates = outer;\n    return this;\n  };\n\n  /*\n  GeoJSON Feature Class\n      new Feature();\n      new Feature({\n        type: \"Feature\",\n        geometry: {\n          type: \"Polygon\",\n          coordinates: [ [ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ] ]\n        }\n      });\n      new Feature({\n        type: \"Polygon\",\n        coordinates: [ [ [[x,y], [x1,y1]], [[x2,y2], [x3,y3]] ] ]\n      });\n  */\n  function Feature(input){\n    if(input && input.type === \"Feature\"){\n      extend(this, input);\n    } else if(input && input.type && input.coordinates) {\n      this.geometry = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.Feature\";\n    }\n\n    this.type = \"Feature\";\n  }\n\n  Feature.prototype = new Primitive();\n  Feature.prototype.constructor = Feature;\n\n  /*\n  GeoJSON FeatureCollection Class\n      new FeatureCollection();\n      new FeatureCollection([feature, feature1]);\n      new FeatureCollection({\n        type: \"FeatureCollection\",\n        coordinates: [feature, feature1]\n      });\n  */\n  function FeatureCollection(input){\n    if(input && input.type === \"FeatureCollection\" && input.features){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.features = input;\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.FeatureCollection\";\n    }\n\n    this.type = \"FeatureCollection\";\n  }\n\n  FeatureCollection.prototype = new Primitive();\n  FeatureCollection.prototype.constructor = FeatureCollection;\n  FeatureCollection.prototype.forEach = function(func){\n    for (var i = 0; i < this.features.length; i++) {\n      func.apply(this, [this.features[i], i, this.features]);\n    }\n  };\n  FeatureCollection.prototype.get = function(id){\n    var found;\n    this.forEach(function(feature){\n      if(feature.id === id){\n        found = feature;\n      }\n    });\n    return new Feature(found);\n  };\n\n  /*\n  GeoJSON GeometryCollection Class\n      new GeometryCollection();\n      new GeometryCollection([geometry, geometry1]);\n      new GeometryCollection({\n        type: \"GeometryCollection\",\n        coordinates: [geometry, geometry1]\n      });\n  */\n  function GeometryCollection(input){\n    if(input && input.type === \"GeometryCollection\" && input.geometries){\n      extend(this, input);\n    } else if(isArray(input)) {\n      this.geometries = input;\n    } else if(input.coordinates && input.type){\n      this.type = \"GeometryCollection\";\n      this.geometries = [input];\n    } else {\n      throw \"Terraformer: invalid input for Terraformer.GeometryCollection\";\n    }\n\n    this.type = \"GeometryCollection\";\n  }\n\n  GeometryCollection.prototype = new Primitive();\n  GeometryCollection.prototype.constructor = GeometryCollection;\n  GeometryCollection.prototype.forEach = function(func){\n    for (var i = 0; i < this.geometries.length; i++) {\n      func.apply(this, [this.geometries[i], i, this.geometries]);\n    }\n  };\n  GeometryCollection.prototype.get = function(i){\n    return new Primitive(this.geometries[i]);\n  };\n\n  function createCircle(center, radius, interpolate){\n    var mercatorPosition = positionToMercator(center);\n    var steps = interpolate || 64;\n    var polygon = {\n      type: \"Polygon\",\n      coordinates: [[]]\n    };\n    for(var i=1; i<=steps; i++) {\n      var radians = i * (360/steps) * Math.PI / 180;\n      polygon.coordinates[0].push([mercatorPosition[0] + radius * Math.cos(radians), mercatorPosition[1] + radius * Math.sin(radians)]);\n    }\n    polygon.coordinates = closedPolygon(polygon.coordinates);\n\n    return toGeographic(polygon);\n  }\n\n  function Circle (center, radius, interpolate) {\n    var steps = interpolate || 64;\n    var rad = radius || 250;\n\n    if(!center || center.length < 2 || !rad || !steps) {\n      throw new Error(\"Terraformer: missing parameter for Terraformer.Circle\");\n    }\n\n    extend(this, new Feature({\n      type: \"Feature\",\n      geometry: createCircle(center, rad, steps),\n      properties: {\n        radius: rad,\n        center: center,\n        steps: steps\n      }\n    }));\n  }\n\n  Circle.prototype = new Primitive();\n  Circle.prototype.constructor = Circle;\n  Circle.prototype.recalculate = function(){\n    this.geometry = createCircle(this.properties.center, this.properties.radius, this.properties.steps);\n    return this;\n  };\n  Circle.prototype.center = function(coordinates){\n    if(coordinates){\n      this.properties.center = coordinates;\n      this.recalculate();\n    }\n    return this.properties.center;\n  };\n  Circle.prototype.radius = function(radius){\n    if(radius){\n      this.properties.radius = radius;\n      this.recalculate();\n    }\n    return this.properties.radius;\n  };\n  Circle.prototype.steps = function(steps){\n    if(steps){\n      this.properties.steps = steps;\n      this.recalculate();\n    }\n    return this.properties.steps;\n  };\n\n  Circle.prototype.toJSON = function() {\n    var output = Primitive.prototype.toJSON.call(this);\n    return output;\n  };\n\n  exports.Primitive = Primitive;\n  exports.Point = Point;\n  exports.MultiPoint = MultiPoint;\n  exports.LineString = LineString;\n  exports.MultiLineString = MultiLineString;\n  exports.Polygon = Polygon;\n  exports.MultiPolygon = MultiPolygon;\n  exports.Feature = Feature;\n  exports.FeatureCollection = FeatureCollection;\n  exports.GeometryCollection = GeometryCollection;\n  exports.Circle = Circle;\n\n  exports.toMercator = toMercator;\n  exports.toGeographic = toGeographic;\n\n  exports.Tools = {};\n  exports.Tools.positionToMercator = positionToMercator;\n  exports.Tools.positionToGeographic = positionToGeographic;\n  exports.Tools.applyConverter = applyConverter;\n  exports.Tools.toMercator = toMercator;\n  exports.Tools.toGeographic = toGeographic;\n  exports.Tools.createCircle = createCircle;\n\n  exports.Tools.calculateBounds = calculateBounds;\n  exports.Tools.calculateEnvelope = calculateEnvelope;\n\n  exports.Tools.coordinatesContainPoint = coordinatesContainPoint;\n  exports.Tools.polygonContainsPoint = polygonContainsPoint;\n  exports.Tools.arraysIntersectArrays = arraysIntersectArrays;\n  exports.Tools.coordinatesContainPoint = coordinatesContainPoint;\n  exports.Tools.coordinatesEqual = coordinatesEqual;\n  exports.Tools.convexHull = convexHull;\n  exports.Tools.isConvex = isConvex;\n\n  exports.MercatorCRS = MercatorCRS;\n  exports.GeographicCRS = GeographicCRS;\n\n  return exports;\n}));\n"],"sourceRoot":""}